<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>HarvardX: Online Learning Platform | Robert Sichomba</title>
    
    <!-- Tailwind CSS -->
    <script src="https://cdn.tailwindcss.com"></script>
    
    <!-- Font Awesome -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    
    <!-- Google Fonts -->
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css2?family=Source+Serif+Pro:wght@400;600;700&display=swap" rel="stylesheet">
    
    <script>
        tailwind.config = {
            theme: {
                extend: {
                    colors: {
                        'harvard-crimson': '#A41034',
                        'harvard-dark': '#1E1E1E',
                        'harvard-light': '#F8F9FA',
                        'harvard-gold': '#D4AF37',
                        'harvard-gray': '#6C757D',
                        'harvard-blue': '#0D6EFD',
                        'harvard-green': '#198754',
                        'harvard-orange': '#FD7E14',
                    },
                    fontFamily: {
                        'sans': ['Inter', 'system-ui', 'sans-serif'],
                        'serif': ['Source Serif Pro', 'Georgia', 'serif'],
                    },
                    animation: {
                        'float': 'float 6s ease-in-out infinite',
                        'glow': 'glow 2s ease-in-out infinite alternate',
                        'pulse-slow': 'pulse 4s cubic-bezier(0.4, 0, 0.6, 1) infinite',
                    },
                    backgroundImage: {
                        'gradient-radial': 'radial-gradient(var(--tw-gradient-stops))',
                        'harvard-pattern': 'linear-gradient(135deg, #A41034 0%, #1E1E1E 100%)',
                    }
                }
            }
        }
    </script>
    
    <style>
        :root {
            --harvard-crimson: #A41034;
            --harvard-dark: #1E1E1E;
            --harvard-light: #F8F9FA;
            --harvard-gold: #D4AF37;
            --harvard-gray: #6C757D;
        }
        
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        body {
            background-color: var(--harvard-light);
            color: #333333;
            font-family: 'Inter', sans-serif;
            overflow-x: hidden;
        }
        
        /* Custom Scrollbar */
        ::-webkit-scrollbar {
            width: 8px;
        }
        
        ::-webkit-scrollbar-track {
            background: #f1f1f1;
        }
        
        ::-webkit-scrollbar-thumb {
            background: var(--harvard-crimson);
            border-radius: 4px;
        }
        
        ::-webkit-scrollbar-thumb:hover {
            background: #8a0d2c;
        }
        
        /* Card Styles */
        .card {
            background-color: white;
            transition: all 0.3s ease;
            border: 1px solid #e0e0e0;
            border-radius: 0.5rem;
            box-shadow: 0 2px 4px rgba(0, 0, 0, 0.05);
        }
        
        .card:hover {
            transform: translateY(-5px);
            border-color: var(--harvard-crimson);
            box-shadow: 0 10px 20px rgba(164, 16, 52, 0.1);
        }
        
        /* Navigation Styles */
        .nav-link {
            position: relative;
        }
        
        .nav-link::after {
            content: '';
            position: absolute;
            width: 0;
            height: 2px;
            bottom: -5px;
            left: 0;
            background-color: var(--harvard-crimson);
            transition: width 0.3s ease;
        }
        
        .nav-link:hover::after {
            width: 100%;
        }
        
        .nav-link.active::after {
            width: 100%;
        }
        
        /* Button Styles */
        .btn-primary {
            background-color: var(--harvard-crimson);
            color: white;
            border: 1px solid var(--harvard-crimson);
            transition: all 0.3s ease;
            border-radius: 0.375rem;
            font-weight: 600;
            display: inline-flex;
            align-items: center;
            justify-content: center;
        }
        
        .btn-primary:hover {
            background-color: #8a0d2c;
            border-color: #8a0d2c;
            transform: translateY(-2px);
        }
        
        .btn-secondary {
            background-color: transparent;
            color: var(--harvard-crimson);
            border: 2px solid var(--harvard-crimson);
            transition: all 0.3s ease;
            border-radius: 0.375rem;
            font-weight: 600;
            display: inline-flex;
            align-items: center;
            justify-content: center;
        }
        
        .btn-secondary:hover {
            background-color: var(--harvard-crimson);
            color: white;
        }
        
        /* Resource Card Styles */
        .resource-card {
            background: white;
            border: 1px solid #e0e0e0;
            transition: all 0.3s ease;
            border-radius: 0.5rem;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            padding: 1.5rem;
        }
        
        .resource-card:hover {
            border-color: var(--harvard-crimson);
            transform: translateY(-3px);
        }
        
        /* Lecture Timeline */
        .lecture-timeline {
            position: relative;
        }
        
        .lecture-timeline::before {
            content: '';
            position: absolute;
            left: 30px;
            top: 0;
            bottom: 0;
            width: 2px;
            background: linear-gradient(to bottom, var(--harvard-crimson), var(--harvard-gold));
        }
        
        .timeline-dot {
            width: 60px;
            height: 60px;
            background: white;
            border: 2px solid var(--harvard-crimson);
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            position: relative;
            z-index: 2;
        }
        
        /* Section Management */
        .section-active {
            display: block;
            animation: fadeIn 0.6s ease-in;
        }
        
        .section-hidden {
            display: none;
        }
        
        /* Auth Modal */
        .auth-modal {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background-color: rgba(0, 0, 0, 0.5);
            display: flex;
            align-items: center;
            justify-content: center;
            z-index: 1000;
            opacity: 0;
            visibility: hidden;
            transition: all 0.3s ease;
        }
        
        .auth-modal.active {
            opacity: 1;
            visibility: visible;
        }
        
        .auth-content {
            background-color: white;
            border-radius: 0.5rem;
            padding: 2rem;
            width: 90%;
            max-width: 500px;
            transform: translateY(20px);
            transition: transform 0.3s ease;
            border: 1px solid #e0e0e0;
        }
        
        .auth-modal.active .auth-content {
            transform: translateY(0);
        }
        
        /* Animations */
        @keyframes fadeIn {
            from { 
                opacity: 0; 
                transform: translateY(20px); 
            }
            to { 
                opacity: 1; 
                transform: translateY(0); 
            }
        }
        
        @keyframes float {
            0%, 100% { 
                transform: translateY(0px); 
            }
            50% { 
                transform: translateY(-10px); 
            }
        }
        
        @keyframes glow {
            from { 
                box-shadow: 0 0 5px var(--harvard-crimson); 
            }
            to { 
                box-shadow: 0 0 20px var(--harvard-crimson), 0 0 30px var(--harvard-crimson); 
            }
        }
        
        /* Gradient Text */
        .gradient-text {
            background: linear-gradient(135deg, var(--harvard-crimson), var(--harvard-gold));
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
        }
        
        /* Badge Styles */
        .badge {
            background-color: #e9ecef;
            color: #495057;
            font-size: 0.75rem;
            font-weight: 500;
            padding: 0.25rem 0.75rem;
            border-radius: 9999px;
            display: inline-block;
        }
        
        /* Announcement Styles */
        .announcement-item {
            padding: 1.5rem;
            background: white;
            border-radius: 0.5rem;
            border: 1px solid #e0e0e0;
            transition: all 0.3s ease;
        }
        
        .announcement-item:hover {
            border-color: var(--harvard-crimson);
            transform: translateX(5px);
        }
        
        /* Progress Bar */
        .progress-bar {
            height: 6px;
            background-color: #e9ecef;
            border-radius: 3px;
            overflow: hidden;
        }
        
        .progress-fill {
            height: 100%;
            background: linear-gradient(90deg, var(--harvard-crimson), var(--harvard-gold));
            border-radius: 3px;
            transition: width 0.5s ease;
        }
        
        /* Code Block Styling */
        .code-block {
            background-color: #f8f9fa;
            border: 1px solid #e9ecef;
            border-radius: 0.5rem;
            padding: 1rem;
            font-family: 'Courier New', monospace;
            overflow-x: auto;
        }
        
        /* Physics Diagram Container */
        .physics-diagram {
            background: white;
            border: 1px solid #e0e0e0;
            border-radius: 0.5rem;
            padding: 1.5rem;
            display: flex;
            align-items: center;
            justify-content: center;
        }
        
        /* User Profile Dropdown */
        .user-dropdown {
            position: relative;
        }
        
        .user-menu {
            position: absolute;
            top: 100%;
            right: 0;
            background-color: white;
            border: 1px solid #e0e0e0;
            border-radius: 0.5rem;
            padding: 0.5rem 0;
            min-width: 200px;
            opacity: 0;
            visibility: hidden;
            transform: translateY(10px);
            transition: all 0.3s ease;
            z-index: 100;
        }
        
        .user-dropdown.active .user-menu {
            opacity: 1;
            visibility: visible;
            transform: translateY(0);
        }
        
        .user-menu-item {
            padding: 0.75rem 1rem;
            display: flex;
            align-items: center;
            color: #333333;
            transition: background-color 0.2s ease;
        }
        
        .user-menu-item:hover {
            background-color: #f8f9fa;
        }
        
        /* Responsive Improvements */
        @media (max-width: 768px) {
            .lecture-timeline::before {
                left: 25px;
            }
            
            .timeline-dot {
                width: 50px;
                height: 50px;
            }
            
            .card {
                padding: 1.5rem;
            }
            
            .resource-card {
                padding: 1rem;
            }
            
            .user-dropdown {
                position: static;
            }
            
            .user-menu {
                position: static;
                opacity: 1;
                visibility: visible;
                transform: none;
                border: none;
                background: transparent;
            }
        }
        
        /* Focus States for Accessibility */
        button:focus, a:focus {
            outline: 2px solid var(--harvard-crimson);
            outline-offset: 2px;
        }
        
        /* Toast Notifications */
        .toast {
            position: fixed;
            top: 100px;
            right: 20px;
            padding: 1rem 1.5rem;
            background-color: white;
            border: 1px solid #e0e0e0;
            border-radius: 0.5rem;
            color: #333333;
            box-shadow: 0 10px 25px rgba(0, 0, 0, 0.1);
            transform: translateX(400px);
            transition: transform 0.3s ease;
            z-index: 1000;
            max-width: 350px;
        }
        
        .toast.show {
            transform: translateX(0);
        }
        
        .toast.success {
            border-left: 4px solid var(--harvard-green);
        }
        
        .toast.error {
            border-left: 4px solid #dc3545;
        }
        
        .toast.info {
            border-left: 4px solid var(--harvard-blue);
        }
        
        /* Course Card Styles */
        .course-card {
            transition: all 0.3s ease;
            overflow: hidden;
        }
        
        .course-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 10px 25px rgba(0, 0, 0, 0.1);
        }
        
        .course-image {
            height: 180px;
            background-size: cover;
            background-position: center;
        }
        
        /* Dashboard Styles */
        .dashboard-card {
            background: white;
            border-radius: 0.5rem;
            box-shadow: 0 2px 4px rgba(0, 0, 0, 0.05);
            transition: all 0.3s ease;
        }
        
        .dashboard-card:hover {
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.1);
        }
        
        /* Header Banner */
        .header-banner {
            background: linear-gradient(135deg, var(--harvard-crimson) 0%, #1E1E1E 100%);
            color: white;
        }
        
        /* Course Navigation */
        .course-nav {
            background: white;
            box-shadow: 0 2px 4px rgba(0, 0, 0, 0.05);
        }
        
        /* Harvard Logo Style */
        .harvard-logo {
            font-family: 'Source Serif Pro', serif;
            font-weight: 700;
            color: var(--harvard-crimson);
        }
    </style>
</head>

<body class="font-sans antialiased">
    <!-- Navigation -->
    <nav class="bg-white sticky top-0 z-50 border-b border-gray-200 shadow-sm">
        <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
            <div class="flex justify-between h-20">
                <!-- Logo -->
                <div class="flex items-center">
                    <a href="#dashboard" class="flex items-center space-x-4" onclick="router.navigateTo('dashboard')">
                        <div class="w-12 h-12 bg-harvard-crimson rounded-xl flex items-center justify-center border border-harvard-crimson">
                            <i class="fas fa-university text-white text-xl"></i>
                        </div>
                        <div class="hidden sm:block">
                            <h1 class="text-xl font-bold harvard-logo">HarvardX</h1>
                            <p class="text-xs text-gray-500 -mt-1">Online Learning Platform</p>
                        </div>
                    </a>
                </div>

                <!-- Desktop Navigation -->
                <div class="hidden md:flex items-center space-x-4">
                    <a href="#dashboard" class="nav-link text-gray-700 hover:text-harvard-crimson font-medium transition-colors duration-200 active">Dashboard</a>
                    <a href="#my-courses" class="nav-link text-gray-700 hover:text-harvard-crimson font-medium transition-colors duration-200">My Courses</a>
                    <a href="#catalog" class="nav-link text-gray-700 hover:text-harvard-crimson font-medium transition-colors duration-200">Catalog</a>
                    <a href="#resources" class="nav-link text-gray-700 hover:text-harvard-crimson font-medium transition-colors duration-200">Resources</a>
                    
                    <!-- Authentication Links - Dynamic -->
                    <div id="auth-links" class="flex items-center space-x-3">
                        <!-- Will be populated by JavaScript -->
                    </div>
                    
                    <a href="https://github.com/RobertSichombaBob" class="text-gray-700 hover:text-harvard-crimson transition-colors">
                        <i class="fab fa-github text-xl"></i>
                    </a>
                </div>

                <!-- Mobile menu button -->
                <div class="md:hidden flex items-center">
                    <button type="button" class="text-gray-700 hover:text-harvard-crimson transition-colors" id="mobile-menu-button">
                        <i class="fas fa-bars text-xl"></i>
                    </button>
                </div>
            </div>
        </div>

        <!-- Mobile Navigation -->
        <div class="md:hidden hidden bg-white border-t border-gray-200 py-6" id="mobile-menu">
            <div class="max-w-7xl mx-auto px-4 space-y-4">
                <a href="#dashboard" class="block text-gray-700 hover:text-harvard-crimson font-medium text-lg py-3 border-b border-gray-200" onclick="router.navigateTo('dashboard')">
                    <i class="fas fa-tachometer-alt mr-4 w-6"></i>Dashboard
                </a>
                <a href="#my-courses" class="block text-gray-700 hover:text-harvard-crimson font-medium text-lg py-3 border-b border-gray-200" onclick="router.navigateTo('my-courses')">
                    <i class="fas fa-book mr-4 w-6"></i>My Courses
                </a>
                <a href="#catalog" class="block text-gray-700 hover:text-harvard-crimson font-medium text-lg py-3 border-b border-gray-200" onclick="router.navigateTo('catalog')">
                    <i class="fas fa-th-large mr-4 w-6"></i>Catalog
                </a>
                <a href="#resources" class="block text-gray-700 hover:text-harvard-crimson font-medium text-lg py-3 border-b border-gray-200" onclick="router.navigateTo('resources')">
                    <i class="fas fa-tools mr-4 w-6"></i>Resources
                </a>
                
                <!-- Mobile Auth Links -->
                <div id="mobile-auth-links" class="pt-4 border-t border-gray-200">
                    <!-- Will be populated by JavaScript -->
                </div>
                
                <a href="https://github.com/RobertSichombaBob" class="block btn-primary px-6 py-4 rounded-xl font-semibold text-center mt-4">
                    <i class="fab fa-github mr-2"></i>GitHub
                </a>
            </div>
        </div>
    </nav>

    <!-- Main Content -->
    <main id="main-content">
        <!-- Dashboard Section -->
        <section id="dashboard-section" class="section-active">
            <!-- Welcome Banner -->
            <div class="header-banner py-12">
                <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
                    <div class="flex flex-col md:flex-row justify-between items-center">
                        <div class="mb-6 md:mb-0">
                            <h1 class="text-4xl md:text-5xl font-bold mb-4">Welcome to HarvardX</h1>
                            <p class="text-xl opacity-90">Expand your knowledge with world-class courses</p>
                        </div>
                        <div class="flex space-x-4">
                            <button onclick="router.navigateTo('catalog')" class="btn-secondary px-6 py-3 rounded-lg font-semibold">
                                <i class="fas fa-search mr-2"></i>Browse Courses
                            </button>
                            <button onclick="auth.showModal('signup')" class="bg-white text-harvard-crimson px-6 py-3 rounded-lg font-semibold hover:bg-gray-100 transition-colors">
                                <i class="fas fa-user-plus mr-2"></i>Join Now
                            </button>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Dashboard Content -->
            <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-12">
                <!-- Quick Stats for logged in users -->
                <div id="user-stats" class="grid grid-cols-1 md:grid-cols-4 gap-6 mb-12 hidden">
                    <div class="dashboard-card p-6 text-center">
                        <div class="text-3xl font-bold mb-2 text-harvard-crimson" id="enrolled-courses">0</div>
                        <div class="text-gray-600 font-medium">Enrolled Courses</div>
                    </div>
                    <div class="dashboard-card p-6 text-center">
                        <div class="text-3xl font-bold mb-2 text-harvard-blue" id="completed-courses">0</div>
                        <div class="text-gray-600 font-medium">Completed</div>
                    </div>
                    <div class="dashboard-card p-6 text-center">
                        <div class="text-3xl font-bold mb-2 text-harvard-green" id="certificates-earned">0</div>
                        <div class="text-gray-600 font-medium">Certificates</div>
                    </div>
                    <div class="dashboard-card p-6 text-center">
                        <div class="text-3xl font-bold mb-2 text-harvard-orange" id="learning-hours">0</div>
                        <div class="text-gray-600 font-medium">Learning Hours</div>
                    </div>
                </div>

                <!-- Featured Courses -->
                <div class="mb-16">
                    <div class="flex justify-between items-center mb-8">
                        <h2 class="text-3xl font-bold text-gray-900">Featured Courses</h2>
                        <a href="#catalog" class="text-harvard-crimson hover:underline font-medium" onclick="router.navigateTo('catalog')">
                            View All <i class="fas fa-arrow-right ml-1"></i>
                        </a>
                    </div>
                    
                    <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8">
                        <!-- Course 1 -->
                        <div class="course-card card rounded-xl overflow-hidden">
                            <div class="course-image bg-gradient-to-r from-harvard-crimson to-harvard-gold"></div>
                            <div class="p-6">
                                <div class="flex justify-between items-start mb-4">
                                    <h3 class="text-xl font-bold text-gray-900">Physics 110: Introductory Mechanics</h3>
                                    <span class="badge bg-harvard-crimson text-white">Science</span>
                                </div>
                                <p class="text-gray-600 mb-4">
                                    Master the fundamental principles of motion, forces, and energy through interactive computational physics.
                                </p>
                                <div class="flex justify-between items-center">
                                    <div class="text-sm text-gray-500">
                                        <i class="fas fa-clock mr-1"></i> 12 weeks
                                    </div>
                                    <button onclick="router.navigateToCourse('physics110', 'home')" class="btn-primary px-4 py-2 text-sm rounded-lg">
                                        View Course
                                    </button>
                                </div>
                            </div>
                        </div>
                        
                        <!-- Course 2 -->
                        <div class="course-card card rounded-xl overflow-hidden">
                            <div class="course-image bg-gradient-to-r from-harvard-blue to-harvard-green"></div>
                            <div class="p-6">
                                <div class="flex justify-between items-start mb-4">
                                    <h3 class="text-xl font-bold text-gray-900">CS50: Introduction to Computer Science</h3>
                                    <span class="badge bg-harvard-blue text-white">Computer Science</span>
                                </div>
                                <p class="text-gray-600 mb-4">
                                    An introduction to the intellectual enterprises of computer science and the art of programming.
                                </p>
                                <div class="flex justify-between items-center">
                                    <div class="text-sm text-gray-500">
                                        <i class="fas fa-clock mr-1"></i> 11 weeks
                                    </div>
                                    <button onclick="router.navigateToCourse('cs50', 'home')" class="btn-primary px-4 py-2 text-sm rounded-lg">
                                        View Course
                                    </button>
                                </div>
                            </div>
                        </div>
                        
                        <!-- Course 3 -->
                        <div class="course-card card rounded-xl overflow-hidden">
                            <div class="course-image bg-gradient-to-r from-harvard-green to-harvard-orange"></div>
                            <div class="p-6">
                                <div class="flex justify-between items-start mb-4">
                                    <h3 class="text-xl font-bold text-gray-900">ECON10A: Principles of Economics</h3>
                                    <span class="badge bg-harvard-green text-white">Economics</span>
                                </div>
                                <p class="text-gray-600 mb-4">
                                    Introduction to microeconomics and macroeconomics for understanding economic principles and policies.
                                </p>
                                <div class="flex justify-between items-center">
                                    <div class="text-sm text-gray-500">
                                        <i class="fas fa-clock mr-1"></i> 14 weeks
                                    </div>
                                    <button onclick="router.navigateToCourse('econ10a', 'home')" class="btn-primary px-4 py-2 text-sm rounded-lg">
                                        View Course
                                    </button>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Announcements -->
                <div class="mb-16">
                    <h2 class="text-3xl font-bold text-gray-900 mb-8">Latest Announcements</h2>
                    <div class="space-y-6">
                        <div class="announcement-item">
                            <div class="flex items-center mb-2">
                                <span class="bg-harvard-crimson text-white px-3 py-1 rounded-full text-sm font-semibold mr-4">New</span>
                                <span class="text-gray-500 text-sm">December 18, 2024</span>
                            </div>
                            <h3 class="text-xl font-semibold text-gray-900 mb-2">Winter Session Registration Now Open</h3>
                            <p class="text-gray-600">Registration for our Winter 2025 session is now open. Enroll in courses starting January 15th.</p>
                        </div>
                        <div class="announcement-item">
                            <div class="flex items-center mb-2">
                                <span class="bg-harvard-blue text-white px-3 py-1 rounded-full text-sm font-semibold mr-4">Update</span>
                                <span class="text-gray-500 text-sm">December 15, 2024</span>
                            </div>
                            <h3 class="text-xl font-semibold text-gray-900 mb-2">New Mobile App Available</h3>
                            <p class="text-gray-600">Download our new mobile app for iOS and Android to learn on the go with offline access.</p>
                        </div>
                        <div class="announcement-item">
                            <div class="flex items-center mb-2">
                                <span class="bg-harvard-green text-white px-3 py-1 rounded-full text-sm font-semibold mr-4">Event</span>
                                <span class="text-gray-500 text-sm">December 10, 2024</span>
                            </div>
                            <h3 class="text-xl font-semibold text-gray-900 mb-2">Virtual Open House - December 20</h3>
                            <p class="text-gray-600">Join our virtual open house to learn more about our programs and meet instructors.</p>
                        </div>
                    </div>
                </div>

                <!-- Login Prompt for non-logged in users -->
                <div id="login-prompt" class="card rounded-xl p-8 text-center">
                    <div class="w-20 h-20 bg-harvard-crimson rounded-full flex items-center justify-center mx-auto mb-6">
                        <i class="fas fa-user-lock text-white text-3xl"></i>
                    </div>
                    <h2 class="text-3xl font-bold text-gray-900 mb-4">Join Our Learning Community</h2>
                    <p class="text-xl text-gray-600 mb-8 max-w-2xl mx-auto">
                        Create an account to track your progress, save your work, and access all course materials.
                    </p>
                    <div class="flex flex-col sm:flex-row space-y-4 sm:space-y-0 sm:space-x-6 justify-center">
                        <button onclick="auth.showModal('signup')" class="btn-primary px-8 py-4 rounded-xl font-bold transition-all duration-200 text-center text-lg">
                            <i class="fas fa-user-plus mr-3"></i>
                            Create Account
                        </button>
                        <button onclick="auth.showModal('login')" class="btn-secondary px-8 py-4 rounded-xl font-bold transition-all duration-200 text-center text-lg">
                            <i class="fas fa-sign-in-alt mr-3"></i>
                            Log In
                        </button>
                    </div>
                </div>
            </div>
        </section>

        <!-- My Courses Section -->
        <section id="my-courses-section" class="section-hidden">
            <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-12">
                <div class="mb-8">
                    <h1 class="text-4xl font-bold text-gray-900 mb-4">My Courses</h1>
                    <p class="text-xl text-gray-600">Continue your learning journey</p>
                </div>

                <!-- Enrolled Courses -->
                <div id="enrolled-courses-container" class="mb-16 hidden">
                    <h2 class="text-2xl font-bold text-gray-900 mb-6">Currently Enrolled</h2>
                    <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8">
                        <!-- Course cards will be populated by JavaScript -->
                    </div>
                </div>

                <!-- Completed Courses -->
                <div id="completed-courses-container" class="mb-16 hidden">
                    <h2 class="text-2xl font-bold text-gray-900 mb-6">Completed Courses</h2>
                    <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8">
                        <!-- Course cards will be populated by JavaScript -->
                    </div>
                </div>

                <!-- No Courses Message -->
                <div id="no-courses-message" class="card rounded-xl p-12 text-center">
                    <div class="w-24 h-24 bg-gray-100 rounded-full flex items-center justify-center mx-auto mb-6">
                        <i class="fas fa-book-open text-gray-400 text-4xl"></i>
                    </div>
                    <h2 class="text-3xl font-bold text-gray-900 mb-4">No Courses Yet</h2>
                    <p class="text-xl text-gray-600 mb-8 max-w-2xl mx-auto">
                        You haven't enrolled in any courses yet. Browse our catalog to find courses that interest you.
                    </p>
                    <button onclick="router.navigateTo('catalog')" class="btn-primary px-8 py-4 rounded-xl font-bold transition-all duration-200 text-center text-lg">
                        <i class="fas fa-search mr-3"></i>
                        Browse Course Catalog
                    </button>
                </div>
            </div>
        </section>

        <!-- Catalog Section -->
        <section id="catalog-section" class="section-hidden">
            <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-12">
                <div class="mb-8">
                    <h1 class="text-4xl font-bold text-gray-900 mb-4">Course Catalog</h1>
                    <p class="text-xl text-gray-600">Explore our wide range of courses</p>
                </div>

                <!-- Course Filter -->
                <div class="card rounded-xl p-6 mb-8">
                    <div class="flex flex-col md:flex-row md:items-center md:justify-between space-y-4 md:space-y-0">
                        <div class="flex flex-wrap gap-4">
                            <button class="bg-harvard-crimson text-white px-4 py-2 rounded-lg font-medium">All</button>
                            <button class="bg-gray-100 text-gray-700 px-4 py-2 rounded-lg font-medium hover:bg-gray-200">Science</button>
                            <button class="bg-gray-100 text-gray-700 px-4 py-2 rounded-lg font-medium hover:bg-gray-200">Computer Science</button>
                            <button class="bg-gray-100 text-gray-700 px-4 py-2 rounded-lg font-medium hover:bg-gray-200">Humanities</button>
                            <button class="bg-gray-100 text-gray-700 px-4 py-2 rounded-lg font-medium hover:bg-gray-200">Business</button>
                        </div>
                        <div class="relative">
                            <input type="text" placeholder="Search courses..." class="w-full md:w-64 bg-gray-100 border-0 rounded-lg pl-10 pr-4 py-2 focus:outline-none focus:ring-2 focus:ring-harvard-crimson">
                            <i class="fas fa-search absolute left-3 top-3 text-gray-400"></i>
                        </div>
                    </div>
                </div>

                <!-- Course Grid -->
                <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8">
                    <!-- Course 1 -->
                    <div class="course-card card rounded-xl overflow-hidden">
                        <div class="course-image bg-gradient-to-r from-harvard-crimson to-harvard-gold"></div>
                        <div class="p-6">
                            <div class="flex justify-between items-start mb-4">
                                <h3 class="text-xl font-bold text-gray-900">Physics 110: Introductory Mechanics</h3>
                                <span class="badge bg-harvard-crimson text-white">Science</span>
                            </div>
                            <p class="text-gray-600 mb-4">
                                Master the fundamental principles of motion, forces, and energy through interactive computational physics.
                            </p>
                            <div class="flex justify-between items-center mb-4">
                                <div class="text-sm text-gray-500">
                                    <i class="fas fa-clock mr-1"></i> 12 weeks
                                </div>
                                <div class="text-sm text-gray-500">
                                    <i class="fas fa-user mr-1"></i> Robert Sichomba
                                </div>
                            </div>
                            <div class="flex space-x-2">
                                <button onclick="router.navigateToCourse('physics110', 'home')" class="btn-primary flex-1 py-2 text-sm rounded-lg">
                                    View Details
                                </button>
                                <button onclick="courseManager.enroll('physics110')" class="bg-gray-100 text-gray-700 px-4 py-2 rounded-lg font-medium hover:bg-gray-200 transition-colors">
                                    <i class="fas fa-plus"></i>
                                </button>
                            </div>
                        </div>
                    </div>
                    
                    <!-- Course 2 -->
                    <div class="course-card card rounded-xl overflow-hidden">
                        <div class="course-image bg-gradient-to-r from-harvard-blue to-harvard-green"></div>
                        <div class="p-6">
                            <div class="flex justify-between items-start mb-4">
                                <h3 class="text-xl font-bold text-gray-900">CS50: Introduction to Computer Science</h3>
                                <span class="badge bg-harvard-blue text-white">Computer Science</span>
                            </div>
                            <p class="text-gray-600 mb-4">
                                An introduction to the intellectual enterprises of computer science and the art of programming.
                            </p>
                            <div class="flex justify-between items-center mb-4">
                                <div class="text-sm text-gray-500">
                                    <i class="fas fa-clock mr-1"></i> 11 weeks
                                </div>
                                <div class="text-sm text-gray-500">
                                    <i class="fas fa-user mr-1"></i> David Malan
                                </div>
                            </div>
                            <div class="flex space-x-2">
                                <button onclick="router.navigateToCourse('cs50', 'home')" class="btn-primary flex-1 py-2 text-sm rounded-lg">
                                    View Details
                                </button>
                                <button onclick="courseManager.enroll('cs50')" class="bg-gray-100 text-gray-700 px-4 py-2 rounded-lg font-medium hover:bg-gray-200 transition-colors">
                                    <i class="fas fa-plus"></i>
                                </button>
                            </div>
                        </div>
                    </div>
                    
                    <!-- Course 3 -->
                    <div class="course-card card rounded-xl overflow-hidden">
                        <div class="course-image bg-gradient-to-r from-harvard-green to-harvard-orange"></div>
                        <div class="p-6">
                            <div class="flex justify-between items-start mb-4">
                                <h3 class="text-xl font-bold text-gray-900">ECON10A: Principles of Economics</h3>
                                <span class="badge bg-harvard-green text-white">Economics</span>
                            </div>
                            <p class="text-gray-600 mb-4">
                                Introduction to microeconomics and macroeconomics for understanding economic principles and policies.
                            </p>
                            <div class="flex justify-between items-center mb-4">
                                <div class="text-sm text-gray-500">
                                    <i class="fas fa-clock mr-1"></i> 14 weeks
                                </div>
                                <div class="text-sm text-gray-500">
                                    <i class="fas fa-user mr-1"></i> N. Gregory Mankiw
                                </div>
                            </div>
                            <div class="flex space-x-2">
                                <button onclick="router.navigateToCourse('econ10a', 'home')" class="btn-primary flex-1 py-2 text-sm rounded-lg">
                                    View Details
                                </button>
                                <button onclick="courseManager.enroll('econ10a')" class="bg-gray-100 text-gray-700 px-4 py-2 rounded-lg font-medium hover:bg-gray-200 transition-colors">
                                    <i class="fas fa-plus"></i>
                                </button>
                            </div>
                        </div>
                    </div>
                    
                    <!-- Course 4 -->
                    <div class="course-card card rounded-xl overflow-hidden">
                        <div class="course-image bg-gradient-to-r from-purple-500 to-pink-500"></div>
                        <div class="p-6">
                            <div class="flex justify-between items-start mb-4">
                                <h3 class="text-xl font-bold text-gray-900">PSY1: Introduction to Psychology</h3>
                                <span class="badge bg-purple-500 text-white">Psychology</span>
                            </div>
                            <p class="text-gray-600 mb-4">
                                Explore the scientific study of human behavior and mental processes in this comprehensive introduction.
                            </p>
                            <div class="flex justify-between items-center mb-4">
                                <div class="text-sm text-gray-500">
                                    <i class="fas fa-clock mr-1"></i> 10 weeks
                                </div>
                                <div class="text-sm text-gray-500">
                                    <i class="fas fa-user mr-1"></i> Steven Pinker
                                </div>
                            </div>
                            <div class="flex space-x-2">
                                <button onclick="router.navigateToCourse('psy1', 'home')" class="btn-primary flex-1 py-2 text-sm rounded-lg">
                                    View Details
                                </button>
                                <button onclick="courseManager.enroll('psy1')" class="bg-gray-100 text-gray-700 px-4 py-2 rounded-lg font-medium hover:bg-gray-200 transition-colors">
                                    <i class="fas fa-plus"></i>
                                </button>
                            </div>
                        </div>
                    </div>
                    
                    <!-- Course 5 -->
                    <div class="course-card card rounded-xl overflow-hidden">
                        <div class="course-image bg-gradient-to-r from-teal-500 to-blue-500"></div>
                        <div class="p-6">
                            <div class="flex justify-between items-start mb-4">
                                <h3 class="text-xl font-bold text-gray-900">BIO20: Fundamentals of Biology</h3>
                                <span class="badge bg-teal-500 text-white">Biology</span>
                            </div>
                            <p class="text-gray-600 mb-4">
                                An introduction to the basic principles of biology, from molecular to ecological levels of organization.
                            </p>
                            <div class="flex justify-between items-center mb-4">
                                <div class="text-sm text-gray-500">
                                    <i class="fas fa-clock mr-1"></i> 13 weeks
                                </div>
                                <div class="text-sm text-gray-500">
                                    <i class="fas fa-user mr-1"></i> E.O. Wilson
                                </div>
                            </div>
                            <div class="flex space-x-2">
                                <button onclick="router.navigateToCourse('bio20', 'home')" class="btn-primary flex-1 py-2 text-sm rounded-lg">
                                    View Details
                                </button>
                                <button onclick="courseManager.enroll('bio20')" class="bg-gray-100 text-gray-700 px-4 py-2 rounded-lg font-medium hover:bg-gray-200 transition-colors">
                                    <i class="fas fa-plus"></i>
                                </button>
                            </div>
                        </div>
                    </div>
                    
                    <!-- Course 6 -->
                    <div class="course-card card rounded-xl overflow-hidden">
                        <div class="course-image bg-gradient-to-r from-orange-500 to-red-500"></div>
                        <div class="p-6">
                            <div class="flex justify-between items-start mb-4">
                                <h3 class="text-xl font-bold text-gray-900">CHEM20: Principles of Chemistry</h3>
                                <span class="badge bg-orange-500 text-white">Chemistry</span>
                            </div>
                            <p class="text-gray-600 mb-4">
                                Explore the fundamental concepts of chemistry including atomic structure, bonding, and reactions.
                            </p>
                            <div class="flex justify-between items-center mb-4">
                                <div class="text-sm text-gray-500">
                                    <i class="fas fa-clock mr-1"></i> 12 weeks
                                </div>
                                <div class="text-sm text-gray-500">
                                    <i class="fas fa-user mr-1"></i> Linus Pauling
                                </div>
                            </div>
                            <div class="flex space-x-2">
                                <button onclick="router.navigateToCourse('chem20', 'home')" class="btn-primary flex-1 py-2 text-sm rounded-lg">
                                    View Details
                                </button>
                                <button onclick="courseManager.enroll('chem20')" class="bg-gray-100 text-gray-700 px-4 py-2 rounded-lg font-medium hover:bg-gray-200 transition-colors">
                                    <i class="fas fa-plus"></i>
                                </button>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <!-- Resources Section -->
        <section id="resources-section" class="section-hidden">
            <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-12">
                <div class="mb-8">
                    <h1 class="text-4xl font-bold text-gray-900 mb-4">Learning Resources</h1>
                    <p class="text-xl text-gray-600">Tools and materials to support your learning journey</p>
                </div>

                <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8 mb-16">
                    <!-- Resource 1 -->
                    <div class="card rounded-xl p-6">
                        <div class="w-14 h-14 bg-harvard-crimson rounded-2xl flex items-center justify-center mb-4">
                            <i class="fas fa-book text-white text-2xl"></i>
                        </div>
                        <h3 class="text-xl font-bold text-gray-900 mb-3">Digital Library</h3>
                        <p class="text-gray-600 mb-4">
                            Access thousands of academic journals, textbooks, and research papers.
                        </p>
                        <div class="flex flex-wrap gap-2 mb-4">
                            <span class="badge">E-books</span>
                            <span class="badge">Journals</span>
                            <span class="badge">Research</span>
                        </div>
                        <div class="flex justify-between items-center">
                            <a href="#" onclick="auth.requireAuth('resources/library.html')" class="text-harvard-crimson hover:text-harvard-dark font-semibold flex items-center group">
                                Access Library <i class="fas fa-arrow-right ml-2 group-hover:translate-x-1 transition-transform"></i>
                            </a>
                            <a href="#" onclick="auth.requireAuth('resources/library.html')" class="text-gray-400 hover:text-harvard-crimson transition-colors">
                                <i class="fas fa-external-link-alt text-xl"></i>
                            </a>
                        </div>
                    </div>

                    <!-- Resource 2 -->
                    <div class="card rounded-xl p-6">
                        <div class="w-14 h-14 bg-harvard-blue rounded-2xl flex items-center justify-center mb-4">
                            <i class="fas fa-laptop-code text-white text-2xl"></i>
                        </div>
                        <h3 class="text-xl font-bold text-gray-900 mb-3">Coding Environment</h3>
                        <p class="text-gray-600 mb-4">
                            Practice coding with our integrated development environment and Jupyter notebooks.
                        </p>
                        <div class="flex flex-wrap gap-2 mb-4">
                            <span class="badge">Python</span>
                            <span class="badge">Jupyter</span>
                            <span class="badge">IDE</span>
                        </div>
                        <div class="flex justify-between items-center">
                            <a href="#" onclick="auth.requireAuth('resources/coding.html')" class="text-harvard-crimson hover:text-harvard-dark font-semibold flex items-center group">
                                Launch IDE <i class="fas fa-arrow-right ml-2 group-hover:translate-x-1 transition-transform"></i>
                            </a>
                            <a href="#" onclick="auth.requireAuth('resources/coding.html')" class="text-gray-400 hover:text-harvard-crimson transition-colors">
                                <i class="fas fa-code text-xl"></i>
                            </a>
                        </div>
                    </div>

                    <!-- Resource 3 -->
                    <div class="card rounded-xl p-6">
                        <div class="w-14 h-14 bg-harvard-green rounded-2xl flex items-center justify-center mb-4">
                            <i class="fas fa-users text-white text-2xl"></i>
                        </div>
                        <h3 class="text-xl font-bold text-gray-900 mb-3">Study Groups</h3>
                        <p class="text-gray-600 mb-4">
                            Connect with fellow learners, form study groups, and collaborate on projects.
                        </p>
                        <div class="flex flex-wrap gap-2 mb-4">
                            <span class="badge">Community</span>
                            <span class="badge">Collaboration</span>
                            <span class="badge">Networking</span>
                        </div>
                        <div class="flex justify-between items-center">
                            <a href="#" onclick="auth.requireAuth('resources/study-groups.html')" class="text-harvard-crimson hover:text-harvard-dark font-semibold flex items-center group">
                                Find Groups <i class="fas fa-arrow-right ml-2 group-hover:translate-x-1 transition-transform"></i>
                            </a>
                            <a href="#" onclick="auth.requireAuth('resources/study-groups.html')" class="text-gray-400 hover:text-harvard-crimson transition-colors">
                                <i class="fas fa-users text-xl"></i>
                            </a>
                        </div>
                    </div>

                    <!-- Resource 4 -->
                    <div class="card rounded-xl p-6">
                        <div class="w-14 h-14 bg-harvard-orange rounded-2xl flex items-center justify-center mb-4">
                            <i class="fas fa-chalkboard-teacher text-white text-2xl"></i>
                        </div>
                        <h3 class="text-xl font-bold text-gray-900 mb-3">Tutoring Services</h3>
                        <p class="text-gray-600 mb-4">
                            Get personalized help from tutors and teaching assistants for difficult concepts.
                        </p>
                        <div class="flex flex-wrap gap-2 mb-4">
                            <span class="badge">One-on-One</span>
                            <span class="badge">Office Hours</span>
                            <span class="badge">Q&A</span>
                        </div>
                        <div class="flex justify-between items-center">
                            <a href="#" onclick="auth.requireAuth('resources/tutoring.html')" class="text-harvard-crimson hover:text-harvard-dark font-semibold flex items-center group">
                                Schedule Session <i class="fas fa-arrow-right ml-2 group-hover:translate-x-1 transition-transform"></i>
                            </a>
                            <a href="#" onclick="auth.requireAuth('resources/tutoring.html')" class="text-gray-400 hover:text-harvard-crimson transition-colors">
                                <i class="fas fa-calendar text-xl"></i>
                            </a>
                        </div>
                    </div>

                    <!-- Resource 5 -->
                    <div class="card rounded-xl p-6">
                        <div class="w-14 h-14 bg-purple-500 rounded-2xl flex items-center justify-center mb-4">
                            <i class="fas fa-graduation-cap text-white text-2xl"></i>
                        </div>
                        <h3 class="text-xl font-bold text-gray-900 mb-3">Career Services</h3>
                        <p class="text-gray-600 mb-4">
                            Access career counseling, resume reviews, and job placement assistance.
                        </p>
                        <div class="flex flex-wrap gap-2 mb-4">
                            <span class="badge">Resume</span>
                            <span class="badge">Interview Prep</span>
                            <span class="badge">Job Search</span>
                        </div>
                        <div class="flex justify-between items-center">
                            <a href="#" onclick="auth.requireAuth('resources/career.html')" class="text-harvard-crimson hover:text-harvard-dark font-semibold flex items-center group">
                                Explore Services <i class="fas fa-arrow-right ml-2 group-hover:translate-x-1 transition-transform"></i>
                            </a>
                            <a href="#" onclick="auth.requireAuth('resources/career.html')" class="text-gray-400 hover:text-harvard-crimson transition-colors">
                                <i class="fas fa-briefcase text-xl"></i>
                            </a>
                        </div>
                    </div>

                    <!-- Resource 6 -->
                    <div class="card rounded-xl p-6">
                        <div class="w-14 h-14 bg-teal-500 rounded-2xl flex items-center justify-center mb-4">
                            <i class="fas fa-mobile-alt text-white text-2xl"></i>
                        </div>
                        <h3 class="text-xl font-bold text-gray-900 mb-3">Mobile App</h3>
                        <p class="text-gray-600 mb-4">
                            Download our mobile app to learn on the go with offline access to course materials.
                        </p>
                        <div class="flex flex-wrap gap-2 mb-4">
                            <span class="badge">iOS</span>
                            <span class="badge">Android</span>
                            <span class="badge">Offline</span>
                        </div>
                        <div class="flex justify-between items-center">
                            <a href="#" class="text-harvard-crimson hover:text-harvard-dark font-semibold flex items-center group">
                                Download App <i class="fas fa-arrow-right ml-2 group-hover:translate-x-1 transition-transform"></i>
                            </a>
                            <a href="#" class="text-gray-400 hover:text-harvard-crimson transition-colors">
                                <i class="fas fa-download text-xl"></i>
                            </a>
                        </div>
                    </div>
                </div>

                <!-- Additional Resources -->
                <div class="card rounded-xl p-8">
                    <h2 class="text-2xl font-bold text-gray-900 mb-6">Academic Support</h2>
                    <div class="grid grid-cols-1 md:grid-cols-2 gap-8">
                        <div>
                            <h3 class="text-lg font-semibold text-gray-900 mb-4">Writing Center</h3>
                            <ul class="space-y-3 text-gray-600">
                                <li class="flex items-start">
                                    <i class="fas fa-check text-harvard-crimson mr-3 mt-1"></i>
                                    <span>Get feedback on essays and research papers</span>
                                </li>
                                <li class="flex items-start">
                                    <i class="fas fa-check text-harvard-crimson mr-3 mt-1"></i>
                                    <span>Learn proper citation styles (APA, MLA, Chicago)</span>
                                </li>
                                <li class="flex items-start">
                                    <i class="fas fa-check text-harvard-crimson mr-3 mt-1"></i>
                                    <span>Improve academic writing skills</span>
                                </li>
                            </ul>
                        </div>
                        <div>
                            <h3 class="text-lg font-semibold text-gray-900 mb-4">Research Assistance</h3>
                            <ul class="space-y-3 text-gray-600">
                                <li class="flex items-start">
                                    <i class="fas fa-check text-harvard-crimson mr-3 mt-1"></i>
                                    <span>Access specialized databases and archives</span>
                                </li>
                                <li class="flex items-start">
                                    <i class="fas fa-check text-harvard-crimson mr-3 mt-1"></i>
                                    <span>Get help with literature reviews</span>
                                </li>
                                <li class="flex items-start">
                                    <i class="fas fa-check text-harvard-crimson mr-3 mt-1"></i>
                                    <span>Learn research methodology</span>
                                </li>
                            </ul>
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <!-- Course Pages (Dynamically Loaded) -->
        <div id="course-pages-container"></div>
    </main>

    <!-- Auth Modal -->
    <div id="auth-modal" class="auth-modal">
        <div class="auth-content">
            <div class="flex justify-between items-center mb-6">
                <h2 id="auth-modal-title" class="text-2xl font-bold text-gray-900">Sign In</h2>
                <button id="auth-modal-close" class="text-gray-400 hover:text-gray-600 transition-colors">
                    <i class="fas fa-times text-xl"></i>
                </button>
            </div>
            
            <!-- Login Form -->
            <form id="login-form" class="space-y-4">
                <div>
                    <label for="login-email" class="block text-gray-700 font-medium mb-2">Email Address</label>
                    <input type="email" id="login-email" required class="w-full bg-gray-50 border border-gray-300 rounded-lg px-4 py-3 text-gray-900 focus:outline-none focus:border-harvard-crimson transition-colors">
                </div>
                <div>
                    <label for="login-password" class="block text-gray-700 font-medium mb-2">Password</label>
                    <input type="password" id="login-password" required class="w-full bg-gray-50 border border-gray-300 rounded-lg px-4 py-3 text-gray-900 focus:outline-none focus:border-harvard-crimson transition-colors">
                </div>
                <div class="flex items-center justify-between">
                    <div class="flex items-center">
                        <input type="checkbox" id="remember-me" class="h-4 w-4 text-harvard-crimson focus:ring-harvard-crimson border-gray-300 rounded bg-gray-50">
                        <label for="remember-me" class="ml-2 text-gray-600 text-sm">Remember me</label>
                    </div>
                    <a href="#" class="text-harvard-crimson hover:text-harvard-dark text-sm transition-colors">Forgot password?</a>
                </div>
                <button type="submit" class="w-full btn-primary py-3 rounded-lg font-semibold transition-all duration-200">
                    Sign In
                </button>
                <div class="mt-4 text-center">
                    <div class="relative">
                        <div class="absolute inset-0 flex items-center">
                            <div class="w-full border-t border-gray-300"></div>
                        </div>
                        <div class="relative flex justify-center text-sm">
                            <span class="px-2 bg-white text-gray-500">Or continue with</span>
                        </div>
                    </div>
                    <div class="mt-4">
                        <button type="button" onclick="auth.signInWithGoogle()" class="w-full flex justify-center items-center px-4 py-3 border border-gray-300 rounded-lg shadow-sm bg-white text-sm font-medium text-gray-700 hover:bg-gray-50 transition-colors">
                            <i class="fab fa-google text-harvard-crimson mr-2"></i>
                            Sign in with Google
                        </button>
                    </div>
                </div>
            </form>
            
            <!-- Signup Form -->
            <form id="signup-form" class="space-y-4 hidden">
                <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
                    <div>
                        <label for="signup-firstname" class="block text-gray-700 font-medium mb-2">First Name</label>
                        <input type="text" id="signup-firstname" required class="w-full bg-gray-50 border border-gray-300 rounded-lg px-4 py-3 text-gray-900 focus:outline-none focus:border-harvard-crimson transition-colors">
                    </div>
                    <div>
                        <label for="signup-lastname" class="block text-gray-700 font-medium mb-2">Last Name</label>
                        <input type="text" id="signup-lastname" required class="w-full bg-gray-50 border border-gray-300 rounded-lg px-4 py-3 text-gray-900 focus:outline-none focus:border-harvard-crimson transition-colors">
                    </div>
                </div>
                <div>
                    <label for="signup-email" class="block text-gray-700 font-medium mb-2">Email Address</label>
                    <input type="email" id="signup-email" required class="w-full bg-gray-50 border border-gray-300 rounded-lg px-4 py-3 text-gray-900 focus:outline-none focus:border-harvard-crimson transition-colors">
                </div>
                <div>
                    <label for="signup-password" class="block text-gray-700 font-medium mb-2">Password</label>
                    <input type="password" id="signup-password" required class="w-full bg-gray-50 border border-gray-300 rounded-lg px-4 py-3 text-gray-900 focus:outline-none focus:border-harvard-crimson transition-colors">
                </div>
                <div>
                    <label for="signup-confirm-password" class="block text-gray-700 font-medium mb-2">Confirm Password</label>
                    <input type="password" id="signup-confirm-password" required class="w-full bg-gray-50 border border-gray-300 rounded-lg px-4 py-3 text-gray-900 focus:outline-none focus:border-harvard-crimson transition-colors">
                </div>
                <div class="flex items-center">
                    <input type="checkbox" id="agree-terms" class="h-4 w-4 text-harvard-crimson focus:ring-harvard-crimson border-gray-300 rounded bg-gray-50">
                    <label for="agree-terms" class="ml-2 text-gray-600 text-sm">I agree to the <a href="#" class="text-harvard-crimson hover:text-harvard-dark transition-colors">Terms of Service</a> and <a href="#" class="text-harvard-crimson hover:text-harvard-dark transition-colors">Privacy Policy</a></label>
                </div>
                <button type="submit" class="w-full btn-primary py-3 rounded-lg font-semibold transition-all duration-200">
                    Create Account
                </button>
                <div class="mt-4 text-center">
                    <div class="relative">
                        <div class="absolute inset-0 flex items-center">
                            <div class="w-full border-t border-gray-300"></div>
                        </div>
                        <div class="relative flex justify-center text-sm">
                            <span class="px-2 bg-white text-gray-500">Or sign up with</span>
                        </div>
                    </div>
                    <div class="mt-4">
                        <button type="button" onclick="auth.signInWithGoogle()" class="w-full flex justify-center items-center px-4 py-3 border border-gray-300 rounded-lg shadow-sm bg-white text-sm font-medium text-gray-700 hover:bg-gray-50 transition-colors">
                            <i class="fab fa-google text-harvard-crimson mr-2"></i>
                            Sign up with Google
                        </button>
                    </div>
                </div>
            </form>
            
            <div class="mt-6 text-center">
                <p id="auth-switch-text" class="text-gray-600">
                    Don't have an account? 
                    <a href="#" id="auth-switch-link" class="text-harvard-crimson hover:text-harvard-dark font-medium transition-colors">Sign up</a>
                </p>
            </div>
        </div>
    </div>

    <!-- Toast Notifications -->
    <div id="toast-container"></div>

    <!-- Footer -->
    <footer class="py-12 border-t border-gray-200 mt-20 bg-white">
        <div class="max-w-6xl mx-auto px-4 sm:px-6 lg:px-8">
            <div class="grid grid-cols-1 md:grid-cols-4 gap-8">
                <!-- Brand -->
                <div class="md:col-span-1">
                    <div class="flex items-center space-x-3 mb-4">
                        <div class="w-10 h-10 bg-harvard-crimson rounded-xl flex items-center justify-center">
                            <i class="fas fa-university text-white text-lg"></i>
                        </div>
                        <div>
                            <h3 class="text-lg font-bold harvard-logo">HarvardX</h3>
                            <p class="text-gray-500 text-sm">Online Learning Platform</p>
                        </div>
                    </div>
                    <p class="text-gray-500 text-sm">
                        World-class education for anyone, anywhere. Transforming education through digital innovation.
                    </p>
                </div>

                <!-- Quick Links -->
                <div>
                    <h4 class="text-sm font-semibold uppercase tracking-wider mb-4 text-gray-700">Platform</h4>
                    <ul class="space-y-2 text-sm text-gray-500">
                        <li><a href="#dashboard" class="hover:text-harvard-crimson transition-colors" onclick="router.navigateTo('dashboard')">Dashboard</a></li>
                        <li><a href="#my-courses" class="hover:text-harvard-crimson transition-colors" onclick="router.navigateTo('my-courses')">My Courses</a></li>
                        <li><a href="#catalog" class="hover:text-harvard-crimson transition-colors" onclick="router.navigateTo('catalog')">Catalog</a></li>
                        <li><a href="#resources" class="hover:text-harvard-crimson transition-colors" onclick="router.navigateTo('resources')">Resources</a></li>
                    </ul>
                </div>

                <!-- Resources -->
                <div>
                    <h4 class="text-sm font-semibold uppercase tracking-wider mb-4 text-gray-700">Support</h4>
                    <ul class="space-y-2 text-sm text-gray-500">
                        <li><a href="#" class="hover:text-harvard-crimson transition-colors">Help Center</a></li>
                        <li><a href="#" class="hover:text-harvard-crimson transition-colors">Contact Us</a></li>
                        <li><a href="#" class="hover:text-harvard-crimson transition-colors">System Status</a></li>
                        <li><a href="#" class="hover:text-harvard-crimson transition-colors">Report a Problem</a></li>
                    </ul>
                </div>

                <!-- Connect -->
                <div>
                    <h4 class="text-sm font-semibold uppercase tracking-wider mb-4 text-gray-700">Connect</h4>
                    <div class="flex space-x-4">
                        <a href="https://linkedin.com/in/robert-sichomba" class="w-10 h-10 bg-gray-100 rounded-xl flex items-center justify-center hover:bg-harvard-crimson transition-colors">
                            <i class="fab fa-linkedin-in text-gray-600 hover:text-white"></i>
                        </a>
                        <a href="https://github.com/RobertSichombaBob" class="w-10 h-10 bg-gray-100 rounded-xl flex items-center justify-center hover:bg-harvard-crimson transition-colors">
                            <i class="fab fa-github text-gray-600 hover:text-white"></i>
                        </a>
                        <a href="mailto:sichombarobertbob@email.com" class="w-10 h-10 bg-gray-100 rounded-xl flex items-center justify-center hover:bg-harvard-crimson transition-colors">
                            <i class="fas fa-envelope text-gray-600 hover:text-white"></i>
                        </a>
                    </div>
                    <div class="mt-4 text-sm text-gray-500">
                        <p>Instructor: Robert Sichomba</p>
                        <p>Email: sichombarobertbob@email.com</p>
                    </div>
                </div>
            </div>

            <div class="border-t border-gray-200 mt-8 pt-8 text-center text-gray-500 text-sm">
                <p> 2024 HarvardX Online Learning Platform. This work is licensed under a <a href="#" class="hover:text-harvard-crimson transition-colors">Creative Commons Attribution-NonCommercial 4.0 International License</a>.</p>
            </div>
        </div>
    </footer>

    <!-- JavaScript -->
    <script>
        // Course Data
        const COURSES = {
            'physics110': {
                id: 'physics110',
                title: 'Physics 110: Introductory Mechanics',
                subtitle: 'Master the fundamental principles of motion, forces, and energy',
                instructor: 'Robert Sichomba',
                category: 'Science',
                duration: '12 weeks',
                description: 'This course covers the fundamental principles of classical mechanics, including kinematics, dynamics, energy, momentum, and rotational motion. Students will learn through interactive simulations, problem-solving sessions, and computational physics applications.',
                image: 'bg-gradient-to-r from-harvard-crimson to-harvard-gold',
                color: 'harvard-crimson',
                lectures: [
                    {
                        id: 1,
                        title: 'Chapter 1: Units, Physical Quantities, and Vectors',
                        week: 'Week 1',
                        description: 'Standards and units, unit consistency and conversions, uncertainty and significant figures, vectors and vector addition.',
                        resources: [
                            { type: 'video', title: 'Lecture Video', duration: '45 min', url: 'pages/lectures/lecture1.html' },
                            { type: 'slides', title: 'Slides', format: 'PDF', url: 'pages/slides/lecture1.pdf' },
                            { type: 'notebook', title: 'Jupyter Notebook', format: 'Python', url: 'pages/notebooks/chapter1.html' },
                            { type: 'homework', title: 'Homework', problems: '5 problems', url: 'pages/homework/hw1.html' }
                        ],
                        completed: true
                    },
                    {
                        id: 2,
                        title: 'Chapter 2: Motion Along a Straight Line',
                        week: 'Week 2',
                        description: 'Displacement, time, average velocity, instantaneous velocity, acceleration, motion with constant acceleration, free fall.',
                        resources: [
                            { type: 'video', title: 'Lecture Video', duration: '52 min', url: 'pages/lectures/lecture2.html' },
                            { type: 'slides', title: 'Slides', format: 'PDF', url: 'pages/slides/lecture2.pdf' },
                            { type: 'notebook', title: 'Jupyter Notebook', format: 'Python', url: 'pages/notebooks/chapter2.html' },
                            { type: 'homework', title: 'Homework', problems: '6 problems', url: 'pages/homework/hw2.html' }
                        ],
                        completed: true
                    },
                    {
                        id: 3,
                        title: 'Chapter 3: Motion in Two or Three Dimensions',
                        week: 'Week 3',
                        description: 'Position and velocity vectors, acceleration vector, projectile motion, motion in a circle, relative velocity.',
                        resources: [
                            { type: 'video', title: 'Lecture Video', duration: '58 min', url: 'pages/lectures/lecture3.html' },
                            { type: 'slides', title: 'Slides', format: 'PDF', url: 'pages/slides/lecture3.pdf' },
                            { type: 'notebook', title: 'Jupyter Notebook', format: 'Python', url: 'pages/notebooks/chapter3.html' },
                            { type: 'homework', title: 'Homework', problems: '7 problems', url: 'pages/homework/hw3.html' }
                        ],
                        completed: false
                    }
                ],
                notebooks: [
                    {
                        id: 1,
                        title: 'Chapter 1: Vector Operations',
                        description: 'Interactive vector calculations, dot products, cross products, and coordinate transformations.',
                        tags: ['Python', 'NumPy', 'Matplotlib'],
                        url: 'pages/notebooks/chapter1.html',
                        github: 'https://github.com/RobertSichombaBob/physics-110-website/blob/main/code/notebooks/chapter1.ipynb'
                    },
                    {
                        id: 2,
                        title: 'Chapter 2: 1D Motion Simulation',
                        description: 'Simulate and visualize motion with constant acceleration using numerical methods and differential equations.',
                        tags: ['SciPy', 'ODE Solver', 'Animation'],
                        url: 'pages/notebooks/chapter2.html',
                        github: 'https://github.com/RobertSichombaBob/physics-110-website/blob/main/code/notebooks/chapter2.ipynb'
                    },
                    {
                        id: 3,
                        title: 'Chapter 3: Projectile Motion',
                        description: 'Analyze 2D projectile motion with air resistance and different launch conditions using numerical integration.',
                        tags: ['Differential Eqs', 'Trajectory', 'Visualization'],
                        url: 'pages/notebooks/chapter3.html',
                        github: 'https://github.com/RobertSichombaBob/physics-110-website/blob/main/code/notebooks/chapter3.ipynb'
                    }
                ],
                assignments: [
                    {
                        id: 1,
                        title: 'Vectors and Units',
                        description: 'Problems covering vector operations, unit conversions, and significant figures.',
                        dueDate: 'Dec 18',
                        problems: 5,
                        status: 'submitted',
                        score: 92
                    },
                    {
                        id: 2,
                        title: '1D Kinematics',
                        description: 'Problems on constant acceleration motion, free fall, and graphical analysis.',
                        dueDate: 'Dec 25',
                        problems: 6,
                        status: 'submitted',
                        score: 85
                    },
                    {
                        id: 3,
                        title: '2D Kinematics',
                        description: 'Projectile motion problems with and without air resistance, relative velocity.',
                        dueDate: 'Jan 1',
                        problems: 7,
                        status: 'in-progress',
                        score: null
                    }
                ],
                quizzes: [
                    {
                        id: 1,
                        title: 'Units & Vectors',
                        description: 'Covers unit conversions, vector operations, and significant figures.',
                        questions: 15,
                        duration: '30 min',
                        status: 'completed',
                        score: 92
                    },
                    {
                        id: 2,
                        title: '1D Kinematics',
                        description: 'Constant acceleration, free fall, and graphical analysis of motion.',
                        questions: 20,
                        duration: '45 min',
                        status: 'completed',
                        score: 85
                    },
                    {
                        id: 3,
                        title: '2D Kinematics',
                        description: 'Projectile motion, relative velocity, and vector components.',
                        questions: 18,
                        duration: '40 min',
                        status: 'available',
                        score: null
                    }
                ]
            },
            'cs50': {
                id: 'cs50',
                title: 'CS50: Introduction to Computer Science',
                subtitle: 'An introduction to the intellectual enterprises of computer science',
                instructor: 'David Malan',
                category: 'Computer Science',
                duration: '11 weeks',
                description: 'This is CS50x, Harvard University\'s introduction to the intellectual enterprises of computer science and the art of programming for majors and non-majors alike, with or without prior programming experience.',
                image: 'bg-gradient-to-r from-harvard-blue to-harvard-green',
                color: 'harvard-blue'
            },
            'econ10a': {
                id: 'econ10a',
                title: 'ECON10A: Principles of Economics',
                subtitle: 'Introduction to microeconomics and macroeconomics',
                instructor: 'N. Gregory Mankiw',
                category: 'Economics',
                duration: '14 weeks',
                description: 'This course provides an introduction to microeconomic and macroeconomic principles. Students will learn about supply and demand, market structures, fiscal and monetary policy, and international trade.',
                image: 'bg-gradient-to-r from-harvard-green to-harvard-orange',
                color: 'harvard-green'
            },
            'psy1': {
                id: 'psy1',
                title: 'PSY1: Introduction to Psychology',
                subtitle: 'Explore the scientific study of human behavior and mental processes',
                instructor: 'Steven Pinker',
                category: 'Psychology',
                duration: '10 weeks',
                description: 'This course introduces students to the scientific study of human behavior and mental processes. Topics include biological bases of behavior, perception, learning, memory, cognition, development, personality, and social psychology.',
                image: 'bg-gradient-to-r from-purple-500 to-pink-500',
                color: 'purple-500'
            },
            'bio20': {
                id: 'bio20',
                title: 'BIO20: Fundamentals of Biology',
                subtitle: 'An introduction to the basic principles of biology',
                instructor: 'E.O. Wilson',
                category: 'Biology',
                duration: '13 weeks',
                description: 'This course provides an introduction to the fundamental principles of biology, from molecular to ecological levels of organization. Topics include cell structure and function, genetics, evolution, and ecology.',
                image: 'bg-gradient-to-r from-teal-500 to-blue-500',
                color: 'teal-500'
            },
            'chem20': {
                id: 'chem20',
                title: 'CHEM20: Principles of Chemistry',
                subtitle: 'Explore the fundamental concepts of chemistry',
                instructor: 'Linus Pauling',
                category: 'Chemistry',
                duration: '12 weeks',
                description: 'This course covers the fundamental concepts of chemistry including atomic structure, chemical bonding, stoichiometry, thermodynamics, kinetics, and equilibrium. Laboratory work emphasizes quantitative techniques.',
                image: 'bg-gradient-to-r from-orange-500 to-red-500',
                color: 'orange-500'
            }
        };

        // HarvardX Router Class
        class HarvardXRouter {
            constructor() {
                this.routes = {
                    'dashboard': 'dashboard-section',
                    'my-courses': 'my-courses-section', 
                    'catalog': 'catalog-section',
                    'resources': 'resources-section'
                };
                
                this.currentSection = 'dashboard';
                this.currentCourse = null;
                this.currentCoursePage = null;
                this.init();
            }

            init() {
                console.log('HarvardX Router v2.0 initialized');
                
                // Handle initial load
                this.handleRouteChange();
                
                // Handle browser back/forward
                window.addEventListener('popstate', (e) => {
                    this.handleRouteChange();
                });

                // Handle anchor clicks
                document.addEventListener('click', (e) => {
                    const anchor = e.target.closest('a[href^="#"]');
                    if (anchor) {
                        e.preventDefault();
                        const target = anchor.getAttribute('href').substring(1);
                        this.navigateTo(target);
                    }
                });

                // Close mobile menu on navigation
                this.setupMobileMenu();
            }

            navigateTo(section) {
                if (this.routes[section]) {
                    // Update URL without page reload
                    history.pushState({}, '', `#${section}`);
                    this.handleRouteChange();
                    
                    // Close mobile menu if open
                    this.closeMobileMenu();
                } else {
                    console.warn(`Route not found: ${section}`);
                    this.navigateTo('dashboard');
                }
            }

            navigateToCourse(courseId, page = 'home') {
                this.currentCourse = courseId;
                this.currentCoursePage = page;
                
                // Update URL
                history.pushState({}, '', `#course-${courseId}-${page}`);
                
                // Load course page
                this.loadCoursePage(courseId, page);
                
                // Close mobile menu if open
                this.closeMobileMenu();
            }

            handleRouteChange() {
                const hash = window.location.hash.substring(1);
                
                // Check if it's a course route
                if (hash.startsWith('course-')) {
                    const parts = hash.split('-');
                    if (parts.length >= 3) {
                        const courseId = parts[1];
                        const page = parts[2] || 'home';
                        this.loadCoursePage(courseId, page);
                        return;
                    }
                }
                
                // Handle regular routes
                const targetSection = this.routes[hash] || this.routes['dashboard'];
                this.showSection(targetSection);
                this.updateActiveNav(hash);
                this.currentSection = hash;
                
                // Update page title
                this.updatePageTitle(hash);
                
                // Update UI based on auth state
                if (window.auth) {
                    window.auth.updateUI();
                    if (hash === 'my-courses') {
                        this.loadMyCourses();
                    }
                }
            }

            showSection(sectionId) {
                // Hide all sections
                document.querySelectorAll('[id$="-section"]').forEach(section => {
                    section.classList.remove('section-active');
                    section.classList.add('section-hidden');
                });
                
                // Hide course pages
                const coursePagesContainer = document.getElementById('course-pages-container');
                if (coursePagesContainer) {
                    coursePagesContainer.innerHTML = '';
                }
                
                // Show target section with animation
                const targetElement = document.getElementById(sectionId);
                if (targetElement) {
                    targetElement.classList.remove('section-hidden');
                    targetElement.classList.add('section-active');
                    
                    // Scroll to top for better UX
                    window.scrollTo({ top: 0, behavior: 'smooth' });
                }
            }

            loadCoursePage(courseId, page) {
                // Hide all sections
                document.querySelectorAll('[id$="-section"]').forEach(section => {
                    section.classList.remove('section-active');
                    section.classList.add('section-hidden');
                });
                
                // Get course data
                const course = COURSES[courseId];
                if (!course) {
                    console.error(`Course not found: ${courseId}`);
                    this.navigateTo('catalog');
                    return;
                }
                
                // Update page title
                document.title = `${course.title} | HarvardX`;
                
                // Create course page container if it doesn't exist
                let coursePagesContainer = document.getElementById('course-pages-container');
                if (!coursePagesContainer) {
                    coursePagesContainer = document.createElement('div');
                    coursePagesContainer.id = 'course-pages-container';
                    document.getElementById('main-content').appendChild(coursePagesContainer);
                }
                
                // Load the appropriate course page
                coursePagesContainer.innerHTML = this.generateCoursePage(course, page);
                
                // Show the course page
                coursePagesContainer.classList.remove('section-hidden');
                coursePagesContainer.classList.add('section-active');
                
                // Scroll to top
                window.scrollTo({ top: 0, behavior: 'smooth' });
            }

            generateCoursePage(course, page) {
                switch (page) {
                    case 'home':
                        return this.generateCourseHomePage(course);
                    case 'lectures':
                        return this.generateCourseLecturesPage(course);
                    case 'notebooks':
                        return this.generateCourseNotebooksPage(course);
                    case 'assignments':
                        return this.generateCourseAssignmentsPage(course);
                    case 'quizzes':
                        return this.generateCourseQuizzesPage(course);
                    default:
                        return this.generateCourseHomePage(course);
                }
            }

            generateCourseHomePage(course) {
                return `
                    <div class="course-nav bg-white shadow-sm border-b border-gray-200">
                        <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
                            <div class="flex justify-between items-center py-4">
                                <div class="flex items-center space-x-4">
                                    <button onclick="router.navigateTo('my-courses')" class="text-gray-500 hover:text-harvard-crimson transition-colors">
                                        <i class="fas fa-arrow-left mr-2"></i> Back to Courses
                                    </button>
                                    <div class="h-6 w-px bg-gray-300"></div>
                                    <h1 class="text-2xl font-bold text-gray-900">${course.title}</h1>
                                </div>
                                <div class="flex items-center space-x-4">
                                    <span class="badge bg-${course.color} text-white">${course.category}</span>
                                    <button onclick="courseManager.enroll('${course.id}')" class="btn-primary px-4 py-2 rounded-lg text-sm">
                                        <i class="fas fa-plus mr-2"></i> Enroll
                                    </button>
                                </div>
                            </div>
                            <div class="flex space-x-8 border-t border-gray-200 mt-4 pt-4">
                                <a href="#course-${course.id}-home" class="nav-link text-gray-700 hover:text-harvard-crimson font-medium py-2 active" onclick="router.navigateToCourse('${course.id}', 'home')">Home</a>
                                <a href="#course-${course.id}-lectures" class="nav-link text-gray-700 hover:text-harvard-crimson font-medium py-2" onclick="router.navigateToCourse('${course.id}', 'lectures')">Lectures</a>
                                <a href="#course-${course.id}-notebooks" class="nav-link text-gray-700 hover:text-harvard-crimson font-medium py-2" onclick="router.navigateToCourse('${course.id}', 'notebooks')">Notebooks</a>
                                <a href="#course-${course.id}-assignments" class="nav-link text-gray-700 hover:text-harvard-crimson font-medium py-2" onclick="router.navigateToCourse('${course.id}', 'assignments')">Assignments</a>
                                <a href="#course-${course.id}-quizzes" class="nav-link text-gray-700 hover:text-harvard-crimson font-medium py-2" onclick="router.navigateToCourse('${course.id}', 'quizzes')">Quizzes</a>
                            </div>
                        </div>
                    </div>
                    
                    <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-12">
                        <!-- Course Header -->
                        <div class="flex flex-col md:flex-row gap-8 mb-12">
                            <div class="md:w-2/3">
                                <h1 class="text-4xl font-bold text-gray-900 mb-4">${course.title}</h1>
                                <p class="text-xl text-gray-600 mb-6">${course.subtitle}</p>
                                <div class="flex flex-wrap gap-4 mb-6">
                                    <div class="flex items-center text-gray-600">
                                        <i class="fas fa-user mr-2"></i>
                                        <span>Instructor: ${course.instructor}</span>
                                    </div>
                                    <div class="flex items-center text-gray-600">
                                        <i class="fas fa-clock mr-2"></i>
                                        <span>${course.duration}</span>
                                    </div>
                                    <div class="flex items-center text-gray-600">
                                        <i class="fas fa-layer-group mr-2"></i>
                                        <span>${course.category}</span>
                                    </div>
                                </div>
                                <p class="text-gray-700 mb-8">${course.description}</p>
                                <div class="flex space-x-4">
                                    <button onclick="router.navigateToCourse('${course.id}', 'lectures')" class="btn-primary px-6 py-3 rounded-lg font-semibold">
                                        <i class="fas fa-play-circle mr-2"></i> Start Learning
                                    </button>
                                    <button onclick="courseManager.enroll('${course.id}')" class="btn-secondary px-6 py-3 rounded-lg font-semibold">
                                        <i class="fas fa-plus mr-2"></i> Enroll Now
                                    </button>
                                </div>
                            </div>
                            <div class="md:w-1/3">
                                <div class="${course.image} rounded-xl h-64 w-full"></div>
                            </div>
                        </div>
                        
                        <!-- Course Overview -->
                        <div class="grid grid-cols-1 md:grid-cols-3 gap-8 mb-12">
                            <div class="card rounded-xl p-6 text-center">
                                <div class="w-12 h-12 bg-harvard-crimson rounded-full flex items-center justify-center mx-auto mb-4">
                                    <i class="fas fa-play-circle text-white text-xl"></i>
                                </div>
                                <h3 class="text-lg font-semibold text-gray-900 mb-2">Video Lectures</h3>
                                <p class="text-gray-600">Comprehensive video content with interactive examples</p>
                            </div>
                            <div class="card rounded-xl p-6 text-center">
                                <div class="w-12 h-12 bg-harvard-blue rounded-full flex items-center justify-center mx-auto mb-4">
                                    <i class="fas fa-laptop-code text-white text-xl"></i>
                                </div>
                                <h3 class="text-lg font-semibold text-gray-900 mb-2">Interactive Notebooks</h3>
                                <p class="text-gray-600">Hands-on coding exercises with Jupyter notebooks</p>
                            </div>
                            <div class="card rounded-xl p-6 text-center">
                                <div class="w-12 h-12 bg-harvard-green rounded-full flex items-center justify-center mx-auto mb-4">
                                    <i class="fas fa-certificate text-white text-xl"></i>
                                </div>
                                <h3 class="text-lg font-semibold text-gray-900 mb-2">Certificate</h3>
                                <p class="text-gray-600">Earn a verified certificate upon completion</p>
                            </div>
                        </div>
                        
                        <!-- Course Progress (for enrolled users) -->
                        <div id="course-progress-${course.id}" class="card rounded-xl p-6 mb-12 hidden">
                            <h2 class="text-2xl font-bold text-gray-900 mb-6">Your Progress</h2>
                            <div class="space-y-6">
                                <div>
                                    <div class="flex justify-between mb-2">
                                        <span class="text-gray-700 font-medium">Course Completion</span>
                                        <span class="text-gray-700 font-semibold" id="course-completion-${course.id}">0%</span>
                                    </div>
                                    <div class="progress-bar">
                                        <div id="course-progress-bar-${course.id}" class="progress-fill" style="width: 0%"></div>
                                    </div>
                                </div>
                                <div class="grid grid-cols-1 md:grid-cols-3 gap-6">
                                    <div class="text-center">
                                        <div class="text-2xl font-bold text-harvard-crimson mb-2" id="lectures-completed-${course.id}">0/${course.lectures ? course.lectures.length : 0}</div>
                                        <div class="text-gray-600">Lectures Completed</div>
                                    </div>
                                    <div class="text-center">
                                        <div class="text-2xl font-bold text-harvard-blue mb-2" id="assignments-completed-${course.id}">0/${course.assignments ? course.assignments.length : 0}</div>
                                        <div class="text-gray-600">Assignments Submitted</div>
                                    </div>
                                    <div class="text-center">
                                        <div class="text-2xl font-bold text-harvard-green mb-2" id="quizzes-completed-${course.id}">0/${course.quizzes ? course.quizzes.length : 0}</div>
                                        <div class="text-gray-600">Quizzes Completed</div>
                                    </div>
                                </div>
                            </div>
                        </div>
                        
                        <!-- Recent Announcements -->
                        <div class="card rounded-xl p-6">
                            <h2 class="text-2xl font-bold text-gray-900 mb-6">Course Announcements</h2>
                            <div class="space-y-6">
                                <div class="announcement-item">
                                    <div class="flex items-center mb-2">
                                        <span class="bg-harvard-crimson text-white px-3 py-1 rounded-full text-sm font-semibold mr-4">New</span>
                                        <span class="text-gray-500 text-sm">December 18, 2024</span>
                                    </div>
                                    <h3 class="text-xl font-semibold text-gray-900 mb-2">Welcome to ${course.title}!</h3>
                                    <p class="text-gray-600">All course materials are now available. Check the lectures section to get started.</p>
                                </div>
                                <div class="announcement-item">
                                    <div class="flex items-center mb-2">
                                        <span class="bg-harvard-blue text-white px-3 py-1 rounded-full text-sm font-semibold mr-4">Update</span>
                                        <span class="text-gray-500 text-sm">December 15, 2024</span>
                                    </div>
                                    <h3 class="text-xl font-semibold text-gray-900 mb-2">Interactive Notebooks Available</h3>
                                    <p class="text-gray-600">Jupyter notebooks for the first three chapters are now available in the notebooks section.</p>
                                </div>
                            </div>
                        </div>
                    </div>
                `;
            }

            generateCourseLecturesPage(course) {
                if (!course.lectures) {
                    return `<div class="text-center py-12"><p class="text-gray-600">Lecture information not available for this course.</p></div>`;
                }

                let lecturesHTML = '';
                course.lectures.forEach(lecture => {
                    lecturesHTML += `
                        <div class="flex items-start space-x-6">
                            <div class="timeline-dot">
                                <span class="text-gray-900 font-bold">${lecture.id.toString().padStart(2, '0')}</span>
                            </div>
                            <div class="card rounded-xl p-6 flex-1">
                                <div class="flex flex-col md:flex-row md:items-center justify-between mb-4">
                                    <h2 class="text-2xl font-bold text-gray-900">${lecture.title}</h2>
                                    <span class="text-gray-500 mt-2 md:mt-0">${lecture.week}</span>
                                </div>
                                <p class="text-gray-600 mb-6">${lecture.description}</p>
                                <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4 mb-4">
                                    ${lecture.resources.map(resource => `
                                        <a href="${resource.url}" class="resource-card rounded-lg p-4 text-center hover:border-${course.color} transition-all duration-200">
                                            <i class="fas fa-${resource.type === 'video' ? 'play-circle' : resource.type === 'slides' ? 'file-pdf' : resource.type === 'notebook' ? 'book' : 'tasks'} text-${resource.type === 'video' ? course.color : resource.type === 'slides' ? 'red-500' : resource.type === 'notebook' ? 'green-500' : 'yellow-500'} text-2xl mb-2"></i>
                                            <div class="font-semibold text-gray-900">${resource.title}</div>
                                            <div class="text-gray-500 text-sm">${resource.duration || resource.format || resource.problems}</div>
                                        </a>
                                    `).join('')}
                                </div>
                                ${lecture.completed ? `
                                <div class="flex items-center text-gray-500 text-sm">
                                    <i class="fas fa-check-circle text-harvard-green mr-2"></i>
                                    <span>Completed</span>
                                </div>
                                ` : ''}
                            </div>
                        </div>
                    `;
                });

                return `
                    <div class="course-nav bg-white shadow-sm border-b border-gray-200">
                        <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
                            <div class="flex justify-between items-center py-4">
                                <div class="flex items-center space-x-4">
                                    <button onclick="router.navigateToCourse('${course.id}', 'home')" class="text-gray-500 hover:text-harvard-crimson transition-colors">
                                        <i class="fas fa-arrow-left mr-2"></i> Back to Course
                                    </button>
                                    <div class="h-6 w-px bg-gray-300"></div>
                                    <h1 class="text-2xl font-bold text-gray-900">${course.title}</h1>
                                </div>
                            </div>
                            <div class="flex space-x-8 border-t border-gray-200 mt-4 pt-4">
                                <a href="#course-${course.id}-home" class="nav-link text-gray-700 hover:text-harvard-crimson font-medium py-2" onclick="router.navigateToCourse('${course.id}', 'home')">Home</a>
                                <a href="#course-${course.id}-lectures" class="nav-link text-gray-700 hover:text-harvard-crimson font-medium py-2 active" onclick="router.navigateToCourse('${course.id}', 'lectures')">Lectures</a>
                                <a href="#course-${course.id}-notebooks" class="nav-link text-gray-700 hover:text-harvard-crimson font-medium py-2" onclick="router.navigateToCourse('${course.id}', 'notebooks')">Notebooks</a>
                                <a href="#course-${course.id}-assignments" class="nav-link text-gray-700 hover:text-harvard-crimson font-medium py-2" onclick="router.navigateToCourse('${course.id}', 'assignments')">Assignments</a>
                                <a href="#course-${course.id}-quizzes" class="nav-link text-gray-700 hover:text-harvard-crimson font-medium py-2" onclick="router.navigateToCourse('${course.id}', 'quizzes')">Quizzes</a>
                            </div>
                        </div>
                    </div>
                    
                    <div class="max-w-6xl mx-auto px-4 sm:px-6 lg:px-8 py-12">
                        <div class="text-center mb-12">
                            <h1 class="text-4xl font-bold text-gray-900 mb-4">Course Lectures</h1>
                            <p class="text-xl text-gray-600">Complete lecture series with videos, slides, and supplementary materials</p>
                        </div>

                        <div class="lecture-timeline space-y-12">
                            ${lecturesHTML}
                        </div>
                    </div>
                `;
            }

            generateCourseNotebooksPage(course) {
                if (!course.notebooks) {
                    return `<div class="text-center py-12"><p class="text-gray-600">Notebook information not available for this course.</p></div>`;
                }

                let notebooksHTML = '';
                course.notebooks.forEach(notebook => {
                    notebooksHTML += `
                        <div class="card rounded-xl p-6">
                            <div class="w-14 h-14 bg-${course.color} rounded-2xl flex items-center justify-center mb-4">
                                <i class="fas fa-book text-white text-2xl"></i>
                            </div>
                            <h3 class="text-xl font-bold text-gray-900 mb-3">${notebook.title}</h3>
                            <p class="text-gray-600 mb-4">${notebook.description}</p>
                            <div class="flex flex-wrap gap-2 mb-4">
                                ${notebook.tags.map(tag => `<span class="badge">${tag}</span>`).join('')}
                            </div>
                            <div class="flex justify-between items-center">
                                <a href="${notebook.url}" class="text-${course.color} hover:text-harvard-dark font-semibold flex items-center group">
                                    Open Notebook <i class="fas fa-arrow-right ml-2 group-hover:translate-x-1 transition-transform"></i>
                                </a>
                                <a href="${notebook.github}" class="text-gray-400 hover:text-${course.color} transition-colors">
                                    <i class="fab fa-github text-xl"></i>
                                </a>
                            </div>
                        </div>
                    `;
                });

                return `
                    <div class="course-nav bg-white shadow-sm border-b border-gray-200">
                        <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
                            <div class="flex justify-between items-center py-4">
                                <div class="flex items-center space-x-4">
                                    <button onclick="router.navigateToCourse('${course.id}', 'home')" class="text-gray-500 hover:text-harvard-crimson transition-colors">
                                        <i class="fas fa-arrow-left mr-2"></i> Back to Course
                                    </button>
                                    <div class="h-6 w-px bg-gray-300"></div>
                                    <h1 class="text-2xl font-bold text-gray-900">${course.title}</h1>
                                </div>
                            </div>
                            <div class="flex space-x-8 border-t border-gray-200 mt-4 pt-4">
                                <a href="#course-${course.id}-home" class="nav-link text-gray-700 hover:text-harvard-crimson font-medium py-2" onclick="router.navigateToCourse('${course.id}', 'home')">Home</a>
                                <a href="#course-${course.id}-lectures" class="nav-link text-gray-700 hover:text-harvard-crimson font-medium py-2" onclick="router.navigateToCourse('${course.id}', 'lectures')">Lectures</a>
                                <a href="#course-${course.id}-notebooks" class="nav-link text-gray-700 hover:text-harvard-crimson font-medium py-2 active" onclick="router.navigateToCourse('${course.id}', 'notebooks')">Notebooks</a>
                                <a href="#course-${course.id}-assignments" class="nav-link text-gray-700 hover:text-harvard-crimson font-medium py-2" onclick="router.navigateToCourse('${course.id}', 'assignments')">Assignments</a>
                                <a href="#course-${course.id}-quizzes" class="nav-link text-gray-700 hover:text-harvard-crimson font-medium py-2" onclick="router.navigateToCourse('${course.id}', 'quizzes')">Quizzes</a>
                            </div>
                        </div>
                    </div>
                    
                    <div class="max-w-6xl mx-auto px-4 sm:px-6 lg:px-8 py-12">
                        <div class="text-center mb-12">
                            <h1 class="text-4xl font-bold text-gray-900 mb-4">Jupyter Notebooks</h1>
                            <p class="text-xl text-gray-600">Interactive computational notebooks with simulations and visualizations</p>
                        </div>

                        <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8">
                            ${notebooksHTML}
                        </div>
                    </div>
                `;
            }

            generateCourseAssignmentsPage(course) {
                if (!course.assignments) {
                    return `<div class="text-center py-12"><p class="text-gray-600">Assignment information not available for this course.</p></div>`;
                }

                let assignmentsHTML = '';
                course.assignments.forEach(assignment => {
                    let statusBadge = '';
                    let scoreHTML = '';
                    
                    if (assignment.status === 'submitted') {
                        statusBadge = `<span class="bg-harvard-green text-white px-3 py-1 rounded-full text-sm font-semibold">Submitted</span>`;
                        scoreHTML = `<a href="#" class="text-gray-400 hover:text-${course.color} transition-colors"><i class="fas fa-check-circle text-xl"></i></a>`;
                    } else if (assignment.status === 'in-progress') {
                        statusBadge = `<span class="bg-harvard-orange text-white px-3 py-1 rounded-full text-sm font-semibold">In Progress</span>`;
                        scoreHTML = `<a href="#" class="text-gray-400 hover:text-${course.color} transition-colors"><i class="fas fa-lock text-xl"></i></a>`;
                    } else {
                        statusBadge = `<span class="bg-gray-500 text-white px-3 py-1 rounded-full text-sm font-semibold">Not Started</span>`;
                        scoreHTML = `<a href="#" class="text-gray-400 hover:text-${course.color} transition-colors"><i class="fas fa-lock text-xl"></i></a>`;
                    }
                    
                    assignmentsHTML += `
                        <div class="card rounded-xl p-6">
                            <div class="flex items-center justify-between mb-4">
                                <div class="w-12 h-12 bg-${course.color} rounded-xl flex items-center justify-center">
                                    <span class="text-white font-bold">${assignment.id.toString().padStart(2, '0')}</span>
                                </div>
                                ${statusBadge}
                            </div>
                            <h3 class="text-xl font-bold text-gray-900 mb-3">${assignment.title}</h3>
                            <p class="text-gray-600 mb-4">${assignment.description}</p>
                            <div class="flex flex-wrap gap-2 mb-4">
                                <span class="badge">${assignment.problems} Problems</span>
                                <span class="badge">Due: ${assignment.dueDate}</span>
                                ${assignment.score ? `<span class="badge bg-harvard-green text-white">Score: ${assignment.score}%</span>` : ''}
                            </div>
                            <div class="flex justify-between items-center">
                                <a href="#" class="text-${course.color} hover:text-harvard-dark font-semibold flex items-center group">
                                    View Assignment <i class="fas fa-arrow-right ml-2 group-hover:translate-x-1 transition-transform"></i>
                                </a>
                                ${scoreHTML}
                            </div>
                        </div>
                    `;
                });

                return `
                    <div class="course-nav bg-white shadow-sm border-b border-gray-200">
                        <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
                            <div class="flex justify-between items-center py-4">
                                <div class="flex items-center space-x-4">
                                    <button onclick="router.navigateToCourse('${course.id}', 'home')" class="text-gray-500 hover:text-harvard-crimson transition-colors">
                                        <i class="fas fa-arrow-left mr-2"></i> Back to Course
                                    </button>
                                    <div class="h-6 w-px bg-gray-300"></div>
                                    <h1 class="text-2xl font-bold text-gray-900">${course.title}</h1>
                                </div>
                            </div>
                            <div class="flex space-x-8 border-t border-gray-200 mt-4 pt-4">
                                <a href="#course-${course.id}-home" class="nav-link text-gray-700 hover:text-harvard-crimson font-medium py-2" onclick="router.navigateToCourse('${course.id}', 'home')">Home</a>
                                <a href="#course-${course.id}-lectures" class="nav-link text-gray-700 hover:text-harvard-crimson font-medium py-2" onclick="router.navigateToCourse('${course.id}', 'lectures')">Lectures</a>
                                <a href="#course-${course.id}-notebooks" class="nav-link text-gray-700 hover:text-harvard-crimson font-medium py-2" onclick="router.navigateToCourse('${course.id}', 'notebooks')">Notebooks</a>
                                <a href="#course-${course.id}-assignments" class="nav-link text-gray-700 hover:text-harvard-crimson font-medium py-2 active" onclick="router.navigateToCourse('${course.id}', 'assignments')">Assignments</a>
                                <a href="#course-${course.id}-quizzes" class="nav-link text-gray-700 hover:text-harvard-crimson font-medium py-2" onclick="router.navigateToCourse('${course.id}', 'quizzes')">Quizzes</a>
                            </div>
                        </div>
                    </div>
                    
                    <div class="max-w-6xl mx-auto px-4 sm:px-6 lg:px-8 py-12">
                        <div class="text-center mb-12">
                            <h1 class="text-4xl font-bold text-gray-900 mb-4">Assignments</h1>
                            <p class="text-xl text-gray-600">Weekly problem sets to reinforce concepts and develop problem-solving skills</p>
                        </div>

                        <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8">
                            ${assignmentsHTML}
                        </div>
                    </div>
                `;
            }

            generateCourseQuizzesPage(course) {
                if (!course.quizzes) {
                    return `<div class="text-center py-12"><p class="text-gray-600">Quiz information not available for this course.</p></div>`;
                }

                let quizzesHTML = '';
                course.quizzes.forEach(quiz => {
                    let statusBadge = '';
                    let actionHTML = '';
                    
                    if (quiz.status === 'completed') {
                        statusBadge = `<span class="bg-harvard-green text-white px-3 py-1 rounded-full text-sm font-semibold">${quiz.score}%</span>`;
                        actionHTML = `
                            <a href="#" class="text-${course.color} hover:text-harvard-dark font-semibold flex items-center group">
                                Review Quiz <i class="fas fa-arrow-right ml-2 group-hover:translate-x-1 transition-transform"></i>
                            </a>
                            <a href="#" class="text-gray-400 hover:text-${course.color} transition-colors">
                                <i class="fas fa-chart-bar text-xl"></i>
                            </a>
                        `;
                    } else if (quiz.status === 'available') {
                        statusBadge = `<span class="bg-harvard-orange text-white px-3 py-1 rounded-full text-sm font-semibold">Available</span>`;
                        actionHTML = `
                            <a href="#" class="text-${course.color} hover:text-harvard-dark font-semibold flex items-center group">
                                Take Quiz <i class="fas fa-arrow-right ml-2 group-hover:translate-x-1 transition-transform"></i>
                            </a>
                            <a href="#" class="text-gray-400 hover:text-${course.color} transition-colors">
                                <i class="fas fa-play-circle text-xl"></i>
                            </a>
                        `;
                    } else {
                        statusBadge = `<span class="bg-gray-500 text-white px-3 py-1 rounded-full text-sm font-semibold">Locked</span>`;
                        actionHTML = `
                            <a href="#" class="text-${course.color} hover:text-harvard-dark font-semibold flex items-center group">
                                Take Quiz <i class="fas fa-arrow-right ml-2 group-hover:translate-x-1 transition-transform"></i>
                            </a>
                            <a href="#" class="text-gray-400 hover:text-${course.color} transition-colors">
                                <i class="fas fa-lock text-xl"></i>
                            </a>
                        `;
                    }
                    
                    quizzesHTML += `
                        <div class="card rounded-xl p-6">
                            <div class="flex items-center justify-between mb-4">
                                <div class="w-12 h-12 bg-${course.color} rounded-xl flex items-center justify-center">
                                    <span class="text-white font-bold">${quiz.id.toString().padStart(2, '0')}</span>
                                </div>
                                ${statusBadge}
                            </div>
                            <h3 class="text-xl font-bold text-gray-900 mb-3">${quiz.title}</h3>
                            <p class="text-gray-600 mb-4">${quiz.description}</p>
                            <div class="flex flex-wrap gap-2 mb-4">
                                <span class="badge">${quiz.questions} Questions</span>
                                <span class="badge">${quiz.duration}</span>
                            </div>
                            <div class="flex justify-between items-center">
                                ${actionHTML}
                            </div>
                        </div>
                    `;
                });

                return `
                    <div class="course-nav bg-white shadow-sm border-b border-gray-200">
                        <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
                            <div class="flex justify-between items-center py-4">
                                <div class="flex items-center space-x-4">
                                    <button onclick="router.navigateToCourse('${course.id}', 'home')" class="text-gray-500 hover:text-harvard-crimson transition-colors">
                                        <i class="fas fa-arrow-left mr-2"></i> Back to Course
                                    </button>
                                    <div class="h-6 w-px bg-gray-300"></div>
                                    <h1 class="text-2xl font-bold text-gray-900">${course.title}</h1>
                                </div>
                            </div>
                            <div class="flex space-x-8 border-t border-gray-200 mt-4 pt-4">
                                <a href="#course-${course.id}-home" class="nav-link text-gray-700 hover:text-harvard-crimson font-medium py-2" onclick="router.navigateToCourse('${course.id}', 'home')">Home</a>
                                <a href="#course-${course.id}-lectures" class="nav-link text-gray-700 hover:text-harvard-crimson font-medium py-2" onclick="router.navigateToCourse('${course.id}', 'lectures')">Lectures</a>
                                <a href="#course-${course.id}-notebooks" class="nav-link text-gray-700 hover:text-harvard-crimson font-medium py-2" onclick="router.navigateToCourse('${course.id}', 'notebooks')">Notebooks</a>
                                <a href="#course-${course.id}-assignments" class="nav-link text-gray-700 hover:text-harvard-crimson font-medium py-2" onclick="router.navigateToCourse('${course.id}', 'assignments')">Assignments</a>
                                <a href="#course-${course.id}-quizzes" class="nav-link text-gray-700 hover:text-harvard-crimson font-medium py-2 active" onclick="router.navigateToCourse('${course.id}', 'quizzes')">Quizzes</a>
                            </div>
                        </div>
                    </div>
                    
                    <div class="max-w-6xl mx-auto px-4 sm:px-6 lg:px-8 py-12">
                        <div class="text-center mb-12">
                            <h1 class="text-4xl font-bold text-gray-900 mb-4">Quizzes & Assessments</h1>
                            <p class="text-xl text-gray-600">Weekly quizzes to test your understanding and prepare for exams</p>
                        </div>

                        <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8">
                            ${quizzesHTML}
                        </div>
                    </div>
                `;
            }

            updateActiveNav(currentRoute) {
                // Remove active class from all nav links
                document.querySelectorAll('.nav-link').forEach(link => {
                    link.classList.remove('active');
                });
                
                // Add active class to current route
                const activeLink = document.querySelector(`a[href="#${currentRoute}"]`);
                if (activeLink) {
                    activeLink.classList.add('active');
                }
            }

            updatePageTitle(section) {
                const baseTitle = 'HarvardX: Online Learning Platform';
                const sectionTitles = {
                    'dashboard': baseTitle,
                    'my-courses': `My Courses - ${baseTitle}`,
                    'catalog': `Course Catalog - ${baseTitle}`,
                    'resources': `Resources - ${baseTitle}`
                };
                
                document.title = sectionTitles[section] || baseTitle;
            }

            setupMobileMenu() {
                const mobileMenuButton = document.getElementById('mobile-menu-button');
                const mobileMenu = document.getElementById('mobile-menu');
                
                if (mobileMenuButton && mobileMenu) {
                    mobileMenuButton.addEventListener('click', (e) => {
                        e.stopPropagation();
                        mobileMenu.classList.toggle('hidden');
                    });
                }
            }

            closeMobileMenu() {
                const mobileMenu = document.getElementById('mobile-menu');
                if (mobileMenu && !mobileMenu.classList.contains('hidden')) {
                    mobileMenu.classList.add('hidden');
                }
            }

            loadMyCourses() {
                const user = window.auth ? window.auth.currentUser : null;
                if (!user) return;

                const enrolledContainer = document.getElementById('enrolled-courses-container');
                const completedContainer = document.getElementById('completed-courses-container');
                const noCoursesMessage = document.getElementById('no-courses-message');
                
                if (!enrolledContainer || !completedContainer || !noCoursesMessage) return;

                const enrolledCourses = user.courses ? user.courses.filter(course => course.status === 'enrolled') : [];
                const completedCourses = user.courses ? user.courses.filter(course => course.status === 'completed') : [];

                if (enrolledCourses.length === 0 && completedCourses.length === 0) {
                    enrolledContainer.classList.add('hidden');
                    completedContainer.classList.add('hidden');
                    noCoursesMessage.classList.remove('hidden');
                    return;
                }

                noCoursesMessage.classList.add('hidden');

                // Display enrolled courses
                if (enrolledCourses.length > 0) {
                    enrolledContainer.classList.remove('hidden');
                    enrolledContainer.querySelector('.grid').innerHTML = enrolledCourses.map(course => {
                        const courseData = COURSES[course.id];
                        if (!courseData) return '';
                        
                        return `
                            <div class="course-card card rounded-xl overflow-hidden">
                                <div class="${courseData.image} h-40"></div>
                                <div class="p-6">
                                    <div class="flex justify-between items-start mb-4">
                                        <h3 class="text-xl font-bold text-gray-900">${courseData.title}</h3>
                                        <span class="badge bg-${courseData.color} text-white">${courseData.category}</span>
                                    </div>
                                    <p class="text-gray-600 mb-4 line-clamp-2">${courseData.subtitle}</p>
                                    <div class="flex justify-between items-center">
                                        <div class="text-sm text-gray-500">
                                            <i class="fas fa-clock mr-1"></i> ${courseData.duration}
                                        </div>
                                        <button onclick="router.navigateToCourse('${courseData.id}', 'home')" class="btn-primary px-4 py-2 text-sm rounded-lg">
                                            Continue
                                        </button>
                                    </div>
                                </div>
                            </div>
                        `;
                    }).join('');
                } else {
                    enrolledContainer.classList.add('hidden');
                }

                // Display completed courses
                if (completedCourses.length > 0) {
                    completedContainer.classList.remove('hidden');
                    completedContainer.querySelector('.grid').innerHTML = completedCourses.map(course => {
                        const courseData = COURSES[course.id];
                        if (!courseData) return '';
                        
                        return `
                            <div class="course-card card rounded-xl overflow-hidden">
                                <div class="${courseData.image} h-40"></div>
                                <div class="p-6">
                                    <div class="flex justify-between items-start mb-4">
                                        <h3 class="text-xl font-bold text-gray-900">${courseData.title}</h3>
                                        <span class="badge bg-harvard-green text-white">Completed</span>
                                    </div>
                                    <p class="text-gray-600 mb-4 line-clamp-2">${courseData.subtitle}</p>
                                    <div class="flex justify-between items-center">
                                        <div class="text-sm text-gray-500">
                                            <i class="fas fa-certificate mr-1"></i> Certificate
                                        </div>
                                        <button onclick="router.navigateToCourse('${courseData.id}', 'home')" class="btn-secondary px-4 py-2 text-sm rounded-lg">
                                            Review
                                        </button>
                                    </div>
                                </div>
                            </div>
                        `;
                    }).join('');
                } else {
                    completedContainer.classList.add('hidden');
                }
            }

            // Utility method to get current route
            getCurrentRoute() {
                return this.currentSection;
            }

            // Utility method to check if route exists
            routeExists(route) {
                return this.routes.hasOwnProperty(route);
            }
        }

        // Authentication Management
        class AuthManager {
            constructor() {
                this.currentUser = null;
                this.init();
            }

            init() {
                // Check for existing session
                this.checkAuthState();
                
                // Setup auth modal
                this.setupAuthModal();
                
                // Setup form handlers
                this.setupFormHandlers();
                
                // Setup user dropdown
                this.setupUserDropdown();
            }

            checkAuthState() {
                const userData = localStorage.getItem('harvardx_currentUser');
                if (userData) {
                    this.currentUser = JSON.parse(userData);
                    this.updateUI();
                } else {
                    this.currentUser = null;
                    this.updateUI();
                }
            }

            setupAuthModal() {
                const modal = document.getElementById('auth-modal');
                const closeBtn = document.getElementById('auth-modal-close');
                const switchLink = document.getElementById('auth-switch-link');
                
                // Close modal when clicking X or outside
                closeBtn.addEventListener('click', () => this.hideModal());
                modal.addEventListener('click', (e) => {
                    if (e.target === modal) this.hideModal();
                });
                
                // Switch between login and signup
                switchLink.addEventListener('click', (e) => {
                    e.preventDefault();
                    this.toggleAuthMode();
                });
            }

            setupFormHandlers() {
                const loginForm = document.getElementById('login-form');
                const signupForm = document.getElementById('signup-form');
                
                loginForm.addEventListener('submit', (e) => this.handleLogin(e));
                signupForm.addEventListener('submit', (e) => this.handleSignup(e));
            }

            setupUserDropdown() {
                const userDropdown = document.getElementById('user-dropdown');
                if (userDropdown) {
                    userDropdown.addEventListener('click', (e) => {
                        e.stopPropagation();
                        userDropdown.classList.toggle('active');
                    });
                    
                    // Close dropdown when clicking outside
                    document.addEventListener('click', () => {
                        userDropdown.classList.remove('active');
                    });
                }
            }

            showModal(mode = 'login') {
                const modal = document.getElementById('auth-modal');
                modal.classList.add('active');
                
                if (mode === 'signup') {
                    this.toggleAuthMode(true);
                } else {
                    this.toggleAuthMode(false);
                }
            }

            hideModal() {
                const modal = document.getElementById('auth-modal');
                modal.classList.remove('active');
                
                // Reset forms
                document.getElementById('login-form').reset();
                document.getElementById('signup-form').reset();
            }

            toggleAuthMode(isSignup = false) {
                const loginForm = document.getElementById('login-form');
                const signupForm = document.getElementById('signup-form');
                const modalTitle = document.getElementById('auth-modal-title');
                const switchText = document.getElementById('auth-switch-text');
                const switchLink = document.getElementById('auth-switch-link');
                
                if (isSignup) {
                    loginForm.classList.add('hidden');
                    signupForm.classList.remove('hidden');
                    modalTitle.textContent = 'Create Account';
                    switchText.innerHTML = 'Already have an account? ';
                    switchLink.textContent = 'Sign in';
                } else {
                    loginForm.classList.remove('hidden');
                    signupForm.classList.add('hidden');
                    modalTitle.textContent = 'Sign In';
                    switchText.innerHTML = "Don't have an account? ";
                    switchLink.textContent = 'Sign up';
                }
            }

            handleLogin(e) {
                e.preventDefault();
                
                const email = document.getElementById('login-email').value;
                const password = document.getElementById('login-password').value;
                
                // Get users from localStorage
                const users = JSON.parse(localStorage.getItem('harvardx_users') || '[]');
                const user = users.find(u => u.email === email && u.password === password);
                
                if (user) {
                    // Successful login
                    this.currentUser = user;
                    localStorage.setItem('harvardx_currentUser', JSON.stringify(user));
                    this.updateUI();
                    this.hideModal();
                    this.showToast('Successfully logged in!', 'success');
                } else {
                    // Failed login
                    this.showToast('Invalid email or password', 'error');
                }
            }

            handleSignup(e) {
                e.preventDefault();
                
                const firstName = document.getElementById('signup-firstname').value;
                const lastName = document.getElementById('signup-lastname').value;
                const email = document.getElementById('signup-email').value;
                const password = document.getElementById('signup-password').value;
                const confirmPassword = document.getElementById('signup-confirm-password').value;
                const agreeTerms = document.getElementById('agree-terms').checked;
                
                // Validation
                if (password !== confirmPassword) {
                    this.showToast('Passwords do not match', 'error');
                    return;
                }
                
                if (!agreeTerms) {
                    this.showToast('Please agree to the terms and conditions', 'error');
                    return;
                }
                
                // Get existing users
                const users = JSON.parse(localStorage.getItem('harvardx_users') || '[]');
                
                // Check if user already exists
                if (users.find(u => u.email === email)) {
                    this.showToast('An account with this email already exists', 'error');
                    return;
                }
                
                // Create new user
                const newUser = {
                    id: Date.now().toString(),
                    firstName,
                    lastName,
                    email,
                    password, // In a real app, this would be hashed
                    createdAt: new Date().toISOString(),
                    courses: [],
                    stats: {
                        enrolledCourses: 0,
                        completedCourses: 0,
                        certificatesEarned: 0,
                        learningHours: 0
                    }
                };
                
                // Save user
                users.push(newUser);
                localStorage.setItem('harvardx_users', JSON.stringify(users));
                
                // Log in the new user
                this.currentUser = newUser;
                localStorage.setItem('harvardx_currentUser', JSON.stringify(newUser));
                
                // Update UI and show success
                this.updateUI();
                this.hideModal();
                this.showToast('Account created successfully!', 'success');
            }

            signInWithGoogle() {
                // In a real application, this would integrate with Google OAuth
                // For demo purposes, we'll simulate a successful login
                this.showToast('Google authentication would be implemented here', 'info');
            }

            logout() {
                this.currentUser = null;
                localStorage.removeItem('harvardx_currentUser');
                this.updateUI();
                this.showToast('You have been logged out', 'info');
            }

            requireAuth(resourceUrl) {
                if (this.currentUser) {
                    // User is logged in, allow access
                    window.location.href = resourceUrl;
                } else {
                    // User is not logged in, show auth modal
                    this.showToast('Please log in to access this resource', 'info');
                    this.showModal('login');
                }
            }

            updateUI() {
                const authLinks = document.getElementById('auth-links');
                const mobileAuthLinks = document.getElementById('mobile-auth-links');
                const userStats = document.getElementById('user-stats');
                const loginPrompt = document.getElementById('login-prompt');
                
                if (this.currentUser) {
                    // User is logged in
                    authLinks.innerHTML = `
                        <div class="user-dropdown" id="user-dropdown">
                            <button class="flex items-center space-x-2 text-gray-700 hover:text-harvard-crimson transition-colors cursor-pointer">
                                <div class="w-8 h-8 bg-harvard-crimson rounded-full flex items-center justify-center">
                                    <span class="text-white text-sm font-semibold">${this.currentUser.firstName.charAt(0)}${this.currentUser.lastName.charAt(0)}</span>
                                </div>
                                <span>${this.currentUser.firstName}</span>
                                <i class="fas fa-chevron-down text-xs"></i>
                            </button>
                            <div class="user-menu">
                                <div class="user-menu-item">
                                    <i class="fas fa-user mr-3"></i>
                                    <span>Profile</span>
                                </div>
                                <div class="user-menu-item">
                                    <i class="fas fa-cog mr-3"></i>
                                    <span>Settings</span>
                                </div>
                                <div class="user-menu-item" onclick="auth.logout()">
                                    <i class="fas fa-sign-out-alt mr-3"></i>
                                    <span>Logout</span>
                                </div>
                            </div>
                        </div>
                    `;
                    
                    mobileAuthLinks.innerHTML = `
                        <div class="flex flex-col space-y-4">
                            <div class="flex items-center space-x-3 py-3 border-b border-gray-200">
                                <div class="w-10 h-10 bg-harvard-crimson rounded-full flex items-center justify-center">
                                    <span class="text-white text-sm font-semibold">${this.currentUser.firstName.charAt(0)}${this.currentUser.lastName.charAt(0)}</span>
                                </div>
                                <div>
                                    <div class="text-gray-900 font-medium">${this.currentUser.firstName} ${this.currentUser.lastName}</div>
                                    <div class="text-gray-500 text-sm">${this.currentUser.email}</div>
                                </div>
                            </div>
                            <a href="#" class="block text-gray-700 hover:text-harvard-crimson font-medium text-lg py-3 border-b border-gray-200">
                                <i class="fas fa-user mr-4 w-6"></i>Profile
                            </a>
                            <a href="#" class="block text-gray-700 hover:text-harvard-crimson font-medium text-lg py-3 border-b border-gray-200">
                                <i class="fas fa-cog mr-4 w-6"></i>Settings
                            </a>
                            <button onclick="auth.logout()" class="block text-gray-700 hover:text-harvard-crimson font-medium text-lg py-3 text-left">
                                <i class="fas fa-sign-out-alt mr-4 w-6"></i>Logout
                            </button>
                        </div>
                    `;
                    
                    // Show user stats for logged in users
                    if (userStats) {
                        userStats.classList.remove('hidden');
                        this.updateUserStats();
                    }
                    if (loginPrompt) loginPrompt.classList.add('hidden');
                    
                    // Re-setup user dropdown for the new element
                    this.setupUserDropdown();
                } else {
                    // User is not logged in
                    authLinks.innerHTML = `
                        <a href="#" onclick="auth.showModal('login')" class="text-gray-700 hover:text-harvard-crimson font-medium transition-colors duration-200">Login</a>
                        <a href="#" onclick="auth.showModal('signup')" class="btn-primary px-6 py-3 rounded-lg font-semibold transition-all duration-200">
                            Sign Up
                        </a>
                    `;
                    
                    mobileAuthLinks.innerHTML = `
                        <div class="flex flex-col space-y-4 pt-4 border-t border-gray-200">
                            <button onclick="auth.showModal('login')" class="block text-gray-700 hover:text-harvard-crimson font-medium text-lg py-3 border-b border-gray-200">
                                <i class="fas fa-sign-in-alt mr-4 w-6"></i>Login
                            </button>
                            <button onclick="auth.showModal('signup')" class="block btn-primary px-6 py-4 rounded-lg font-semibold text-center mt-4">
                                <i class="fas fa-user-plus mr-2"></i>Sign Up
                            </button>
                        </div>
                    `;
                    
                    // Show login prompt for non-logged in users
                    if (userStats) userStats.classList.add('hidden');
                    if (loginPrompt) loginPrompt.classList.remove('hidden');
                }
            }

            updateUserStats() {
                if (!this.currentUser) return;
                
                const stats = this.currentUser.stats;
                
                // Update stats elements
                const enrolledCourses = document.getElementById('enrolled-courses');
                const completedCourses = document.getElementById('completed-courses');
                const certificatesEarned = document.getElementById('certificates-earned');
                const learningHours = document.getElementById('learning-hours');
                
                if (enrolledCourses) enrolledCourses.textContent = stats.enrolledCourses || 0;
                if (completedCourses) completedCourses.textContent = stats.completedCourses || 0;
                if (certificatesEarned) certificatesEarned.textContent = stats.certificatesEarned || 0;
                if (learningHours) learningHours.textContent = stats.learningHours || 0;
            }

            showToast(message, type = 'info') {
                const toastContainer = document.getElementById('toast-container');
                const toastId = 'toast-' + Date.now();
                
                const toast = document.createElement('div');
                toast.id = toastId;
                toast.className = `toast ${type}`;
                toast.innerHTML = `
                    <div class="flex items-start">
                        <div class="flex-shrink-0">
                            ${type === 'success' ? '<i class="fas fa-check-circle text-harvard-green"></i>' : ''}
                            ${type === 'error' ? '<i class="fas fa-exclamation-circle text-red-500"></i>' : ''}
                            ${type === 'info' ? '<i class="fas fa-info-circle text-harvard-blue"></i>' : ''}
                        </div>
                        <div class="ml-3">
                            <p class="text-sm font-medium">${message}</p>
                        </div>
                        <button class="ml-auto text-gray-400 hover:text-gray-600 transition-colors" onclick="document.getElementById('${toastId}').remove()">
                            <i class="fas fa-times"></i>
                        </button>
                    </div>
                `;
                
                toastContainer.appendChild(toast);
                
                // Show toast
                setTimeout(() => {
                    toast.classList.add('show');
                }, 10);
                
                // Auto remove after 5 seconds
                setTimeout(() => {
                    if (document.getElementById(toastId)) {
                        toast.classList.remove('show');
                        setTimeout(() => {
                            if (document.getElementById(toastId)) {
                                document.getElementById(toastId).remove();
                            }
                        }, 300);
                    }
                }, 5000);
            }
        }

        // Course Management
        class CourseManager {
            constructor() {
                this.init();
            }

            init() {
                // Any initialization needed
            }

            enroll(courseId) {
                // Check if user is logged in
                if (!window.auth || !window.auth.currentUser) {
                    window.auth.showModal('signup');
                    return;
                }

                const course = COURSES[courseId];
                if (!course) {
                    window.auth.showToast('Course not found', 'error');
                    return;
                }

                // Get current user
                const user = window.auth.currentUser;
                
                // Check if user is already enrolled
                if (user.courses && user.courses.find(c => c.id === courseId)) {
                    window.auth.showToast(`You are already enrolled in ${course.title}`, 'info');
                    window.router.navigateToCourse(courseId, 'home');
                    return;
                }

                // Add course to user's enrolled courses
                if (!user.courses) user.courses = [];
                user.courses.push({
                    id: courseId,
                    status: 'enrolled',
                    enrolledAt: new Date().toISOString(),
                    progress: {
                        lecturesCompleted: 0,
                        assignmentsSubmitted: 0,
                        quizzesCompleted: 0
                    }
                });

                // Update user stats
                user.stats.enrolledCourses = user.courses.filter(c => c.status === 'enrolled').length;

                // Save updated user data
                const users = JSON.parse(localStorage.getItem('harvardx_users') || '[]');
                const userIndex = users.findIndex(u => u.id === user.id);
                if (userIndex !== -1) {
                    users[userIndex] = user;
                    localStorage.setItem('harvardx_users', JSON.stringify(users));
                    localStorage.setItem('harvardx_currentUser', JSON.stringify(user));
                    window.auth.currentUser = user;
                }

                // Show success message and navigate to course
                window.auth.showToast(`Successfully enrolled in ${course.title}`, 'success');
                window.router.navigateToCourse(courseId, 'home');
            }

            completeCourse(courseId) {
                // This would be called when a user completes a course
                // Implementation would update user progress and issue certificate
            }
        }

        // Global helper function for navigation
        function navigateTo(section) {
            if (window.router && window.router.navigateTo) {
                window.router.navigateTo(section);
            } else {
                // Fallback for direct anchor navigation
                window.location.hash = section;
            }
        }

        // Initialize the application
        document.addEventListener('DOMContentLoaded', function() {
            // Initialize router
            window.router = new HarvardXRouter();
            
            // Initialize auth manager
            window.auth = new AuthManager();
            
            // Initialize course manager
            window.courseManager = new CourseManager();
            
            // Add animation to cards on scroll
            const observerOptions = {
                threshold: 0.1,
                rootMargin: '0px 0px -50px 0px'
            };
            
            const observer = new IntersectionObserver((entries) => {
                entries.forEach(entry => {
                    if (entry.isIntersecting) {
                        entry.target.style.opacity = '1';
                        entry.target.style.transform = 'translateY(0)';
                    }
                });
            }, observerOptions);

            // Observe all cards for animation
            document.querySelectorAll('.card').forEach(card => {
                card.style.opacity = '0';
                card.style.transform = 'translateY(20px)';
                card.style.transition = 'opacity 0.6s ease, transform 0.6s ease';
                observer.observe(card);
            });
        });
    </script>
</body>
</html>